<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vincent Chong">

<title>Python Practicum2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="Advanced Python Practicum 2_files/libs/clipboard/clipboard.min.js"></script>
<script src="Advanced Python Practicum 2_files/libs/quarto-html/quarto.js"></script>
<script src="Advanced Python Practicum 2_files/libs/quarto-html/popper.min.js"></script>
<script src="Advanced Python Practicum 2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Advanced Python Practicum 2_files/libs/quarto-html/anchor.min.js"></script>
<link href="Advanced Python Practicum 2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Advanced Python Practicum 2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Advanced Python Practicum 2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Advanced Python Practicum 2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Advanced Python Practicum 2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Python Practicum2</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Vincent Chong </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p>Trainee Name: Chong Wei Sheng Trainee Email: weisheng.chong@digipen.edu Date Submitted: 2024 Mar 10</p>
<section id="python-practicum-2---exploratory-data-analysis-with-python-libraries" class="level1">
<h1>Python Practicum 2 - Exploratory Data Analysis with Python Libraries</h1>
<p>This practicum comprises 2 sections which require the use of 2 different datasets. The requirements for each question are outlined below each question.</p>
<p><br></p>
<p><u><strong>1. International Monetary Fund</strong></u><br></p>
<p>Uses the excel file called <code>WEOApr2020all.xlsx</code>. This file was obtained from the <a href="https://www.imf.org/external/pubs/ft/weo/2020/01/weodata/index.aspx">International Monetary Fund</a> and it contains data from the World Economic Outlook that pertains to national accounts, inflation, unemployment rates, balance of payments, fiscal indicators, trade for countries and country groups (aggregates), and commodity prices whose data are reported by the IMF.</p>
<p><strong>Note:</strong> The data is in a tabular format and <strong>delimited</strong> with a <strong>tab</strong> as a separator.</p>
<p><br></p>
<p><u><strong>2. AirBnB Open Data - New York City</strong></u><br></p>
<p>Uses the CSV file called <code>AB_NYC_2019.csv</code>. This file was obtained from <a href="https://www.kaggle.com/dgomonov/new-york-city-airbnb-open-data">Kaggle.com</a> and it contains data that pertains to hosts, geographical availability, etc.</p>
<p><strong>Note:</strong> The data is in a tabular format and <strong>delimited</strong> with a <strong>comma</strong> as a separator.</p>
<p><br></p>
<p>You are encouraged to open the file in a spreadsheet program to examine the data. Your task is to use Python and the following list of libraries to code the processes defined by the questions. <strong>Leave in the relevant codes used for testing but comment them out before submission.</strong> You are also encouraged to use as many code cells as necessary to complete the tasks.</p>
<p><strong>Note</strong>: Take care not to overwrite your loaded dataset.</p>
<p><strong>Permissible Libraries</strong></p>
<ul>
<li>Pandas</li>
<li>Matplotlib</li>
</ul>
<p><strong>Deliverables</strong>:</p>
<ul>
<li>Follow the instructions as detailed in this file.</li>
<li>Do not modify any cell within this file unless otherwise stated.</li>
<li>Once you have completed this assignment, navigate to <code>Kernel</code> in the menu and click on <code>Restart Kernel and Run All Cells...</code>. You are to ensure that each cell has been completed and that they run without errors.</li>
<li>Before submitting, click on <code>Restart Kernel and Clear All Outputs...</code>. Then, zip all files in the format <code>CET2011_P02_&lt;trainee_name&gt;.zip</code>.</li>
<li>Failure to do so will be awarded <strong>NYC</strong>.</li>
</ul>
<hr>
</section>
<section id="personal-memo" class="level1">
<h1>Personal memo</h1>
<section id="evaluation-criteria" class="level3">
<h3 class="anchored" data-anchor-id="evaluation-criteria">Evaluation Criteria:</h3>
<ul>
<li>Analytical Rigor: Depth and accuracy of the analysis.</li>
<li>Visual Excellence: Clarity, interactivity, and aesthetic appeal of the visualizations.</li>
<li>Narrative Strength: The ability to tell a compelling data story, highlighting critical insights.</li>
<li>Innovation: Creativity in the approach to visual analysis and presentation.</li>
</ul>
</section>
<section id="deliverables" class="level3">
<h3 class="anchored" data-anchor-id="deliverables">Deliverables:</h3>
<ul>
<li>A Jupyter Notebook with the complete analysis and visualizations.</li>
<li>An interactive dashboard showcasing the visual analysis.</li>
<li>A detailed report or presentation encapsulating the narrative and key insights for decision-makers.</li>
</ul>
</section>
</section>
<section id="install-package-to-read-excel-from-pandas" class="level1">
<h1>Install package to read excel from Pandas</h1>
<div id="cell-6" class="cell" data-execution_count="148">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>pip install <span class="op">--</span>quiet <span class="op">-</span>r requirements.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Note: you may need to restart the kernel to use updated packages.</code></pre>
</div>
</div>
<section id="general-part" class="level2">
<h2 class="anchored" data-anchor-id="general-part">General Part</h2>
<p>Load the required libraries.</p>
<div id="cell-8" class="cell" data-execution_count="149">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="library-settings" class="level2">
<h2 class="anchored" data-anchor-id="library-settings">Library settings</h2>
<div id="cell-10" class="cell" data-execution_count="150">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">"display.max_columns"</span>, <span class="va">None</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<hr>
</section>
<section id="international-monetary-fund" class="level2">
<h2 class="anchored" data-anchor-id="international-monetary-fund">International Monetary Fund</h2>
<p><strong>Q1)</strong> Load the data into memory using Pandas; perform a preliminary first clean of the data and return this data.</p>
<ul>
<li>Perform standard checks such as missing data (<code>NaN</code> or <code>None</code>), datatypes, etc.</li>
<li>Ensure that all the column names are of the datatype <code>string</code>.</li>
<li>Assess whether it is necessary to remove the last two rows of the DataFrame for your specific analysis.</li>
</ul>
<div id="cell-12" class="cell" data-scrolled="true" data-execution_count="151">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>imf_csv_path <span class="op">=</span> <span class="st">"datasets/WEOApr2020all.xlsx"</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> os.path.exists(imf_csv_path)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_excel(imf_csv_path)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="151">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">WEO Country Code</th>
<th data-quarto-table-cell-role="th">ISO</th>
<th data-quarto-table-cell-role="th">WEO Subject Code</th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Subject Descriptor</th>
<th data-quarto-table-cell-role="th">Subject Notes</th>
<th data-quarto-table-cell-role="th">Units</th>
<th data-quarto-table-cell-role="th">Scale</th>
<th data-quarto-table-cell-role="th">Country/Series-specific Notes</th>
<th data-quarto-table-cell-role="th">1980</th>
<th data-quarto-table-cell-role="th">1981</th>
<th data-quarto-table-cell-role="th">1982</th>
<th data-quarto-table-cell-role="th">1983</th>
<th data-quarto-table-cell-role="th">1984</th>
<th data-quarto-table-cell-role="th">1985</th>
<th data-quarto-table-cell-role="th">1986</th>
<th data-quarto-table-cell-role="th">1987</th>
<th data-quarto-table-cell-role="th">1988</th>
<th data-quarto-table-cell-role="th">1989</th>
<th data-quarto-table-cell-role="th">1990</th>
<th data-quarto-table-cell-role="th">1991</th>
<th data-quarto-table-cell-role="th">1992</th>
<th data-quarto-table-cell-role="th">1993</th>
<th data-quarto-table-cell-role="th">1994</th>
<th data-quarto-table-cell-role="th">1995</th>
<th data-quarto-table-cell-role="th">1996</th>
<th data-quarto-table-cell-role="th">1997</th>
<th data-quarto-table-cell-role="th">1998</th>
<th data-quarto-table-cell-role="th">1999</th>
<th data-quarto-table-cell-role="th">2000</th>
<th data-quarto-table-cell-role="th">2001</th>
<th data-quarto-table-cell-role="th">2002</th>
<th data-quarto-table-cell-role="th">2003</th>
<th data-quarto-table-cell-role="th">2004</th>
<th data-quarto-table-cell-role="th">2005</th>
<th data-quarto-table-cell-role="th">2006</th>
<th data-quarto-table-cell-role="th">2007</th>
<th data-quarto-table-cell-role="th">2008</th>
<th data-quarto-table-cell-role="th">2009</th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">2020</th>
<th data-quarto-table-cell-role="th">2021</th>
<th data-quarto-table-cell-role="th">Estimates Start After</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>512</td>
<td>AFG</td>
<td>NGDP_RPCH</td>
<td>Afghanistan</td>
<td>Gross domestic product, constant prices</td>
<td>Annual percentages of constant price GDP are y...</td>
<td>Percent change</td>
<td>NaN</td>
<td>Source: National Statistics Office Latest actu...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>8.692</td>
<td>0.671</td>
<td>11.830</td>
<td>5.361</td>
<td>13.340</td>
<td>3.863</td>
<td>20.585</td>
<td>8.438</td>
<td>6.479</td>
<td>13.968</td>
<td>5.683</td>
<td>2.697</td>
<td>0.988</td>
<td>2.164</td>
<td>2.889</td>
<td>2.664</td>
<td>3.037</td>
<td>-3.007</td>
<td>4.495</td>
<td>2018.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>512</td>
<td>AFG</td>
<td>PPPGDP</td>
<td>Afghanistan</td>
<td>Gross domestic product, current prices</td>
<td>These data form the basis for the country weig...</td>
<td>Purchasing power parity; international dollars</td>
<td>Billions</td>
<td>Source: National Statistics Office Latest actu...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>18.835</td>
<td>20.852</td>
<td>21.557</td>
<td>24.858</td>
<td>26.983</td>
<td>31.404</td>
<td>33.252</td>
<td>40.403</td>
<td>44.323</td>
<td>48.180</td>
<td>55.963</td>
<td>60.181</td>
<td>62.948</td>
<td>64.231</td>
<td>66.301</td>
<td>69.501</td>
<td>73.091</td>
<td>76.624</td>
<td>74.792</td>
<td>79.678</td>
<td>2018.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-13" class="cell" data-execution_count="152">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Drop columns that are not used in visualization such as notes and codes.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-14" class="cell" data-execution_count="153">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>redundant_col <span class="op">=</span> <span class="st">"WEO Country Code   ISO WEO Subject Code    Subject Notes   Units   Scale   Country/Series-specific Notes   Estimates Start After"</span>.split(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"</span><span class="ch">\t</span><span class="st">"</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>redundant_col</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="153">
<pre><code>['WEO Country Code',
 'ISO',
 'WEO Subject Code',
 'Subject Notes',
 'Units',
 'Scale',
 'Country/Series-specific Notes',
 'Estimates Start After']</code></pre>
</div>
</div>
<div id="cell-15" class="cell" data-execution_count="154">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> c <span class="kw">in</span> redundant_col:</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> c <span class="kw">in</span> df.columns:</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(df[c].value_counts())</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"*"</span> <span class="op">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>WEO Country Code
512                                                                         8
716                                                                         8
278                                                                         8
692                                                                         8
694                                                                         8
                                                                           ..
258                                                                         8
656                                                                         8
654                                                                         8
336                                                                         8
International Monetary Fund, World Economic Outlook Database, April 2020    1
Name: count, Length: 195, dtype: int64
****************************************************************************************************
ISO
AFG    8
SMR    8
NZL    8
NIC    8
NER    8
      ..
GTM    8
GIN    8
GNB    8
GUY    8
ZWE    8
Name: count, Length: 194, dtype: int64
****************************************************************************************************
WEO Subject Code
NGDP_RPCH        194
PPPGDP           194
NGDPRPPPPCPCH    194
PCPIPCH          194
PCPIEPCH         194
LUR              194
GGXCNL_NGDP      194
BCA_NGDPD        194
Name: count, dtype: int64
****************************************************************************************************
Subject Notes
Annual percentages of constant price GDP are year-on-year changes; the base year is country-specific . Expenditure-based GDP is total final expenditures at purchasers? prices (including the f.o.b. value of exports of goods and services), less the f.o.b. value of imports of goods and services. [SNA 1993]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          194
These data form the basis for the country weights used to generate the World Economic Outlook country group composites for the domestic economy.   The IMF is not a primary source for purchasing power parity (PPP) data. WEO weights have been created from primary sources and are used solely for purposes of generating country group composites. For primary source information, please refer to one of the following sources: the Organization for Economic Cooperation and Development, the World Bank, or the Penn World Tables.   For further information see Box A2 in the April 2004 World Economic Outlook, Box 1.2 in the September 2003 World Economic Outlook for a discussion on the measurement of global growth and Box A.1 in the May 2000 World Economic Outlook for a summary of the revised PPP-based weights, and Annex IV of the May 1993 World Economic Outlook. See also Anne Marie Gulde and Marianne Schulze-Ghattas, Purchasing Power Parity Based Weights for the World Economic Outlook, in Staff Studies for the World Economic Outlook (Washington: IMF, December 1993), pp. 106-23.    194
GDP is expressed in constant international dollars per person. Data are derived by dividing constant price purchasing-power parity (PPP) GDP by total population.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         194
Annual percentages of average consumer prices are year-on-year changes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   194
 Annual percentages of end of period consumer prices are year-on-year changes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            194
Unemployment rate can be defined by either the national definition, the ILO harmonized definition, or the OECD harmonized definition. The OECD harmonized unemployment rate gives the number of unemployed persons as a percentage of the labor force (the total number of people employed plus unemployed). [OECD Main Economic Indicators, OECD, monthly] As defined by the International Labour Organization, unemployed workers are those who are currently not working but are willing and able to work for pay, currently available to work, and have actively searched for work. [ILO, http://www.ilo.org/public/english/bureau/stat/res/index.htm]                                                                                                                                                                                                                                                                                                                                                                                                                                                                194
Net lending (+)/ borrowing (?) is calculated as revenue minus total expenditure. This is a core GFS balance that measures the extent to which general government is either putting financial resources at the disposal of other sectors in the economy and nonresidents (net lending), or utilizing the financial resources generated by other sectors and nonresidents (net borrowing). This balance may be viewed as an indicator of the financial impact of general government activity on the rest of the economy and nonresidents (GFSM 2001, paragraph 4.17). Note: Net lending (+)/borrowing (?) is also equal to net acquisition of financial assets minus net incurrence of liabilities.                                                                                                                                                                                                                                                                                                                                                                                                                         194
Current account is all transactions other than those in financial and capital items. The major classifications are goods and services, income and current transfers. The focus of the BOP is on transactions (between an economy and the rest of the world) in goods, services, and income.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               194
Name: count, dtype: int64
****************************************************************************************************
Units
Percent change                                    582
Percent of GDP                                    388
Purchasing power parity; international dollars    194
Purchasing power parity; percent change           194
Percent of total labor force                      194
Name: count, dtype: int64
****************************************************************************************************
Scale
Billions    194
Name: count, dtype: int64
****************************************************************************************************
Country/Series-specific Notes
Source: Central Bank Latest actual data: 2019 BOP Manual used: Balance of Payments and International Investment Position Manual, sixth edition (BPM6)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        25
Source: Central Bank Latest actual data: 2018 BOP Manual used: Balance of Payments and International Investment Position Manual, sixth edition (BPM6)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        23
Source: National Statistics Office Latest actual data: 2019 Harmonized prices: Yes Frequency of source data: Monthly Base year: 2015                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         12
Source: Central Bank Latest actual data: 2018 BOP Manual used: Balance of Payments Manual, fifth edition (BPM5)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              11
Source: National Statistics Office Latest actual data: 2019 Harmonized prices: No Frequency of source data: Monthly Base year: 2015                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          10
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ..
Source: Ministry of Finance or Treasury. Eurostat Latest actual data: 2018 Fiscal assumptions: Fiscal projections are based on the country's Budget 2020. Start/end months of reporting year: January/December GFS Manual used: Government Finance Statistics Manual (GFSM) 2001 Basis of recording: Accrual General government includes: Central Government; Local Government; Social Security Funds; Other; Valuation of public debt: Nominal value Instruments included in gross and net debt: Currency and Deposits; Securities Other than Shares; Loans;. Gross debt follows the Maastricht definition of gross debt, and excludes other accounts payable. Net debt is defined as gross debt less currency and deposits, debt securities, and loans.     1
Source: National Statistics Office. Central Statistical Office of Ireland (CSO), data is from the Labor Force Survey (LFS) and is the average of the quarterly observations. Latest actual data: 2019 Employment type: Harmonized ILO definition Primary domestic currency: Euro Data last updated: 04/2020                                                                                                                                                                                                                                                                                                                                                                                                                                                   1
Source: Central Bank Latest actual data: 2018. Estimates based on authorities' figures. BOP Manual used: Balance of Payments and International Investment Position Manual, sixth edition (BPM6)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               1
Source: Ministry of Finance or Treasury Latest actual data: 2018 Start/end months of reporting year: January/December GFS Manual used: Government Finance Statistics Manual (GFSM) 2001 Basis of recording: Cash General government includes: Central Government; Valuation of public debt: Current market value Instruments included in gross and net debt: Securities Other than Shares; Loans; Other Accounts Receivable/Payable; Other                                                                                                                                                                                                                                                                                                                    1
Source: Reserve Bank of Zimbabwe and Ministry of Finance. Latest actual data: 2018. Structural break in 2010 due to a shift in the data source from exchange control data to customs data for trade statistics BOP Manual used: Balance of Payments and International Investment Position Manual, sixth edition (BPM6)                                                                                                                                                                                                                                                                                                                                                                                                                                        1
Name: count, Length: 774, dtype: int64
****************************************************************************************************
Estimates Start After
2019.0    691
2018.0    656
2017.0     72
2015.0     19
2016.0     11
2011.0      7
2010.0      4
2009.0      2
2013.0      1
2014.0      1
2020.0      1
2012.0      1
Name: count, dtype: int64
****************************************************************************************************</code></pre>
</div>
</div>
<div id="cell-16" class="cell" data-execution_count="155">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Todo:</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># country_info = {country: (ISO, Estimates_Start_After}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-17" class="cell" data-execution_count="156">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop redundant colaumns</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> c <span class="kw">in</span> redundant_col:</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> c <span class="kw">in</span> df.columns:</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>        df.drop(columns<span class="op">=</span>c, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="156">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Subject Descriptor</th>
<th data-quarto-table-cell-role="th">1980</th>
<th data-quarto-table-cell-role="th">1981</th>
<th data-quarto-table-cell-role="th">1982</th>
<th data-quarto-table-cell-role="th">1983</th>
<th data-quarto-table-cell-role="th">1984</th>
<th data-quarto-table-cell-role="th">1985</th>
<th data-quarto-table-cell-role="th">1986</th>
<th data-quarto-table-cell-role="th">1987</th>
<th data-quarto-table-cell-role="th">1988</th>
<th data-quarto-table-cell-role="th">1989</th>
<th data-quarto-table-cell-role="th">1990</th>
<th data-quarto-table-cell-role="th">1991</th>
<th data-quarto-table-cell-role="th">1992</th>
<th data-quarto-table-cell-role="th">1993</th>
<th data-quarto-table-cell-role="th">1994</th>
<th data-quarto-table-cell-role="th">1995</th>
<th data-quarto-table-cell-role="th">1996</th>
<th data-quarto-table-cell-role="th">1997</th>
<th data-quarto-table-cell-role="th">1998</th>
<th data-quarto-table-cell-role="th">1999</th>
<th data-quarto-table-cell-role="th">2000</th>
<th data-quarto-table-cell-role="th">2001</th>
<th data-quarto-table-cell-role="th">2002</th>
<th data-quarto-table-cell-role="th">2003</th>
<th data-quarto-table-cell-role="th">2004</th>
<th data-quarto-table-cell-role="th">2005</th>
<th data-quarto-table-cell-role="th">2006</th>
<th data-quarto-table-cell-role="th">2007</th>
<th data-quarto-table-cell-role="th">2008</th>
<th data-quarto-table-cell-role="th">2009</th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">2020</th>
<th data-quarto-table-cell-role="th">2021</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Afghanistan</td>
<td>Gross domestic product, constant prices</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>8.692</td>
<td>0.671</td>
<td>11.830</td>
<td>5.361</td>
<td>13.340</td>
<td>3.863</td>
<td>20.585</td>
<td>8.438</td>
<td>6.479</td>
<td>13.968</td>
<td>5.683</td>
<td>2.697</td>
<td>0.988</td>
<td>2.164</td>
<td>2.889</td>
<td>2.664</td>
<td>3.037</td>
<td>-3.007</td>
<td>4.495</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Afghanistan</td>
<td>Gross domestic product, current prices</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>18.835</td>
<td>20.852</td>
<td>21.557</td>
<td>24.858</td>
<td>26.983</td>
<td>31.404</td>
<td>33.252</td>
<td>40.403</td>
<td>44.323</td>
<td>48.180</td>
<td>55.963</td>
<td>60.181</td>
<td>62.948</td>
<td>64.231</td>
<td>66.301</td>
<td>69.501</td>
<td>73.091</td>
<td>76.624</td>
<td>74.792</td>
<td>79.678</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="assess-whether-it-is-necessary-to-remove-the-last-two-rows-of-the-dataframe-for-your-specific-analysis." class="level2">
<h2 class="anchored" data-anchor-id="assess-whether-it-is-necessary-to-remove-the-last-two-rows-of-the-dataframe-for-your-specific-analysis.">* Assess whether it is necessary to remove the last two rows of the DataFrame for your specific analysis.</h2>
<section id="check-missing-values-per-row-to-decide-any-rows-to-discard" class="level3">
<h3 class="anchored" data-anchor-id="check-missing-values-per-row-to-decide-any-rows-to-discard">Check missing values per row to decide any rows to discard</h3>
<p>Discard row 1552 and 1553 where all elements in the rows are missing values.</p>
<div id="cell-19" class="cell" data-execution_count="157">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>(df.isna().<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>) <span class="op">/</span> <span class="bu">len</span>(df.columns)).sort_values(ascending<span class="op">=</span><span class="va">False</span>)[:<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="157">
<pre><code>1553    1.000000
1552    1.000000
877     0.954545
701     0.954545
709     0.954545
dtype: float64</code></pre>
</div>
</div>
<div id="cell-20" class="cell" data-execution_count="158">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df.iloc[[<span class="dv">1553</span>, <span class="dv">1552</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="158">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Subject Descriptor</th>
<th data-quarto-table-cell-role="th">1980</th>
<th data-quarto-table-cell-role="th">1981</th>
<th data-quarto-table-cell-role="th">1982</th>
<th data-quarto-table-cell-role="th">1983</th>
<th data-quarto-table-cell-role="th">1984</th>
<th data-quarto-table-cell-role="th">1985</th>
<th data-quarto-table-cell-role="th">1986</th>
<th data-quarto-table-cell-role="th">1987</th>
<th data-quarto-table-cell-role="th">1988</th>
<th data-quarto-table-cell-role="th">1989</th>
<th data-quarto-table-cell-role="th">1990</th>
<th data-quarto-table-cell-role="th">1991</th>
<th data-quarto-table-cell-role="th">1992</th>
<th data-quarto-table-cell-role="th">1993</th>
<th data-quarto-table-cell-role="th">1994</th>
<th data-quarto-table-cell-role="th">1995</th>
<th data-quarto-table-cell-role="th">1996</th>
<th data-quarto-table-cell-role="th">1997</th>
<th data-quarto-table-cell-role="th">1998</th>
<th data-quarto-table-cell-role="th">1999</th>
<th data-quarto-table-cell-role="th">2000</th>
<th data-quarto-table-cell-role="th">2001</th>
<th data-quarto-table-cell-role="th">2002</th>
<th data-quarto-table-cell-role="th">2003</th>
<th data-quarto-table-cell-role="th">2004</th>
<th data-quarto-table-cell-role="th">2005</th>
<th data-quarto-table-cell-role="th">2006</th>
<th data-quarto-table-cell-role="th">2007</th>
<th data-quarto-table-cell-role="th">2008</th>
<th data-quarto-table-cell-role="th">2009</th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">2020</th>
<th data-quarto-table-cell-role="th">2021</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1553</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1552</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-21" class="cell" data-execution_count="159">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df.drop(index<span class="op">=</span>[<span class="dv">1552</span>, <span class="dv">1553</span>], inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>(df.isna().<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">0</span>) <span class="op">/</span> df.shape[<span class="dv">0</span>]).sort_values(ascending<span class="op">=</span><span class="va">False</span>)[:<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="159">
<pre><code>1980    0.467139
1981    0.428479
1982    0.420747
1983    0.414304
1984    0.410438
dtype: float64</code></pre>
</div>
</div>
</section>
</section>
<section id="perform-standard-checks-such-as-missing-data-nan-or-none-datatypes-etc." class="level2">
<h2 class="anchored" data-anchor-id="perform-standard-checks-such-as-missing-data-nan-or-none-datatypes-etc.">* Perform standard checks such as missing data (<code>NaN</code> or <code>None</code>), datatypes, etc.</h2>
<div id="cell-23" class="cell" data-execution_count="160">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Percentage of rows with any missing data</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>miss_row <span class="op">=</span> df.isna().<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(miss_row[miss_row].index) <span class="op">/</span> <span class="bu">len</span>(miss_row)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>df.iloc[miss_row[miss_row].index]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="160">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Subject Descriptor</th>
<th data-quarto-table-cell-role="th">1980</th>
<th data-quarto-table-cell-role="th">1981</th>
<th data-quarto-table-cell-role="th">1982</th>
<th data-quarto-table-cell-role="th">1983</th>
<th data-quarto-table-cell-role="th">1984</th>
<th data-quarto-table-cell-role="th">1985</th>
<th data-quarto-table-cell-role="th">1986</th>
<th data-quarto-table-cell-role="th">1987</th>
<th data-quarto-table-cell-role="th">1988</th>
<th data-quarto-table-cell-role="th">1989</th>
<th data-quarto-table-cell-role="th">1990</th>
<th data-quarto-table-cell-role="th">1991</th>
<th data-quarto-table-cell-role="th">1992</th>
<th data-quarto-table-cell-role="th">1993</th>
<th data-quarto-table-cell-role="th">1994</th>
<th data-quarto-table-cell-role="th">1995</th>
<th data-quarto-table-cell-role="th">1996</th>
<th data-quarto-table-cell-role="th">1997</th>
<th data-quarto-table-cell-role="th">1998</th>
<th data-quarto-table-cell-role="th">1999</th>
<th data-quarto-table-cell-role="th">2000</th>
<th data-quarto-table-cell-role="th">2001</th>
<th data-quarto-table-cell-role="th">2002</th>
<th data-quarto-table-cell-role="th">2003</th>
<th data-quarto-table-cell-role="th">2004</th>
<th data-quarto-table-cell-role="th">2005</th>
<th data-quarto-table-cell-role="th">2006</th>
<th data-quarto-table-cell-role="th">2007</th>
<th data-quarto-table-cell-role="th">2008</th>
<th data-quarto-table-cell-role="th">2009</th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">2020</th>
<th data-quarto-table-cell-role="th">2021</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Afghanistan</td>
<td>Gross domestic product, constant prices</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>8.692</td>
<td>0.671</td>
<td>11.830</td>
<td>5.361</td>
<td>13.340</td>
<td>3.863</td>
<td>20.585</td>
<td>8.438</td>
<td>6.479</td>
<td>13.968</td>
<td>5.683</td>
<td>2.697</td>
<td>0.988</td>
<td>2.164</td>
<td>2.889</td>
<td>2.664</td>
<td>3.037</td>
<td>-3.007</td>
<td>4.495</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Afghanistan</td>
<td>Gross domestic product, current prices</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>18.835</td>
<td>20.852</td>
<td>21.557</td>
<td>24.858</td>
<td>26.983</td>
<td>31.404</td>
<td>33.252</td>
<td>40.403</td>
<td>44.323</td>
<td>48.180</td>
<td>55.963</td>
<td>60.181</td>
<td>62.948</td>
<td>64.231</td>
<td>66.301</td>
<td>69.501</td>
<td>73.091</td>
<td>76.624</td>
<td>74.792</td>
<td>79.678</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Afghanistan</td>
<td>Gross domestic product per capita, constant pr...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>4.398</td>
<td>-3.112</td>
<td>8.042</td>
<td>2.194</td>
<td>9.143</td>
<td>1.286</td>
<td>17.527</td>
<td>5.431</td>
<td>3.234</td>
<td>10.299</td>
<td>2.236</td>
<td>-0.521</td>
<td>-1.941</td>
<td>-0.547</td>
<td>0.358</td>
<td>1.268</td>
<td>1.654</td>
<td>-4.291</td>
<td>3.063</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Afghanistan</td>
<td>Inflation, average consumer prices</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>35.663</td>
<td>16.358</td>
<td>10.569</td>
<td>6.785</td>
<td>8.681</td>
<td>26.419</td>
<td>-6.811</td>
<td>2.179</td>
<td>11.804</td>
<td>6.441</td>
<td>7.386</td>
<td>4.674</td>
<td>-0.662</td>
<td>4.384</td>
<td>4.976</td>
<td>0.626</td>
<td>2.302</td>
<td>4.711</td>
<td>4.451</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Afghanistan</td>
<td>Inflation, end of period consumer prices</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>6.530</td>
<td>13.266</td>
<td>10.562</td>
<td>4.285</td>
<td>16.092</td>
<td>18.814</td>
<td>-9.836</td>
<td>10.246</td>
<td>9.312</td>
<td>5.875</td>
<td>7.241</td>
<td>1.487</td>
<td>1.131</td>
<td>4.588</td>
<td>3.041</td>
<td>0.755</td>
<td>2.773</td>
<td>4.5</td>
<td>5.000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1547</td>
<td>Zimbabwe</td>
<td>Inflation, average consumer prices</td>
<td>NaN</td>
<td>5.556</td>
<td>0.59</td>
<td>-8.452</td>
<td>-1.857</td>
<td>-16.01</td>
<td>10.666</td>
<td>12.785</td>
<td>-1.057</td>
<td>-3.847</td>
<td>1.345</td>
<td>-13.143</td>
<td>-2.998</td>
<td>0.376</td>
<td>-2.761</td>
<td>15.227</td>
<td>6.006</td>
<td>-0.965</td>
<td>-28.023</td>
<td>-13.431</td>
<td>4.475</td>
<td>-37.198</td>
<td>-34.445</td>
<td>-8.565</td>
<td>113.569</td>
<td>-31.522</td>
<td>32.974</td>
<td>-72.729</td>
<td>156.964</td>
<td>6.216</td>
<td>3.045</td>
<td>3.470</td>
<td>3.720</td>
<td>1.632</td>
<td>-0.213</td>
<td>-2.410</td>
<td>-1.558</td>
<td>0.907</td>
<td>10.607</td>
<td>255.292</td>
<td>319.036</td>
<td>3.700</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1548</td>
<td>Zimbabwe</td>
<td>Inflation, end of period consumer prices</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>-7.670</td>
<td>3.217</td>
<td>4.920</td>
<td>2.914</td>
<td>0.331</td>
<td>-0.796</td>
<td>-2.473</td>
<td>-0.898</td>
<td>3.430</td>
<td>42.074</td>
<td>521.150</td>
<td>154.297</td>
<td>3.000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1549</td>
<td>Zimbabwe</td>
<td>Unemployment rate</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1550</td>
<td>Zimbabwe</td>
<td>General government net lending/borrowing</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>-5.265</td>
<td>-2.150</td>
<td>-2.523</td>
<td>-1.804</td>
<td>-2.176</td>
<td>0.619</td>
<td>-2.164</td>
<td>0.807</td>
<td>-0.621</td>
<td>-0.421</td>
<td>-1.418</td>
<td>-6.242</td>
<td>-8.113</td>
<td>-4.499</td>
<td>-2.575</td>
<td>-4.931</td>
<td>-1.518</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1551</td>
<td>Zimbabwe</td>
<td>Current account balance</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>-2.534</td>
<td>-5.788</td>
<td>-10.804</td>
<td>-4.109</td>
<td>-3.995</td>
<td>-4.466</td>
<td>-1.779</td>
<td>-7.717</td>
<td>-1.312</td>
<td>2.070</td>
<td>2.838</td>
<td>3.248</td>
<td>2.323</td>
<td>-0.720</td>
<td>-1.353</td>
<td>-0.958</td>
<td>1.887</td>
<td>3.829</td>
<td>-2.061</td>
<td>-9.734</td>
<td>-11.989</td>
<td>-17.245</td>
<td>-10.727</td>
<td>-13.230</td>
<td>-11.563</td>
<td>-7.617</td>
<td>-3.580</td>
<td>-1.299</td>
<td>-5.896</td>
<td>1.133</td>
<td>-1.914</td>
<td>-1.894</td>
</tr>
</tbody>
</table>

<p>740 rows × 44 columns</p>
</div>
</div>
</div>
</div>
<div id="cell-24" class="cell" data-execution_count="161">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>miss_row <span class="op">=</span> df.isna().<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>miss_col <span class="op">=</span> df.isna().<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>df_mising <span class="op">=</span> df[[<span class="st">"Country"</span>, <span class="st">"Subject Descriptor"</span>] <span class="op">+</span> <span class="bu">list</span>(miss_col[miss_col].index)].iloc[</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    miss_row[miss_row].index</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>df_mising.to_csv(<span class="st">"missing.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-25" class="cell" data-execution_count="162">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List countries where the missing data belongs to</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>df_mising.Country.value_counts(normalize<span class="op">=</span><span class="va">True</span>).sort_values(ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="162">
<pre><code>Country
Afghanistan      0.010811
Palau            0.010811
Timor-Leste      0.010811
Tajikistan       0.010811
South Sudan      0.010811
                   ...   
Panama           0.001351
Bangladesh       0.001351
Algeria          0.001351
United States    0.001351
Paraguay         0.001351
Name: proportion, Length: 182, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="convert-column-names-to-string" class="level2">
<h2 class="anchored" data-anchor-id="convert-column-names-to-string">Convert column names to string</h2>
<div id="cell-27" class="cell" data-execution_count="163">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>before <span class="op">=</span> <span class="bu">set</span>([<span class="bu">type</span>(c) <span class="cf">for</span> c <span class="kw">in</span> df.columns])</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># type {type_: [c for c in df.columns if type(c) == type_] for type_ in list(set(type(c)) for c in df.columns)}</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>df.columns <span class="op">=</span> <span class="bu">map</span>(<span class="bu">str</span>, <span class="bu">list</span>(df.columns))</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>after <span class="op">=</span> <span class="bu">set</span>([<span class="bu">type</span>(c) <span class="cf">for</span> c <span class="kw">in</span> df.columns])</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"before </span><span class="sc">{</span>before<span class="sc">}</span><span class="ch">\n</span><span class="ss">after </span><span class="sc">{</span>after<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">### \* Ensure that all the column names are of the datatype `string`.</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> c <span class="kw">in</span> df.columns:</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">type</span>(c) <span class="op">==</span> <span class="bu">str</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>before {&lt;class 'int'&gt;, &lt;class 'str'&gt;}
after {&lt;class 'str'&gt;}</code></pre>
</div>
</div>
<div id="cell-28" class="cell" data-execution_count="164">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.shape)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(1552, 44)
&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1552 entries, 0 to 1551
Data columns (total 44 columns):
 #   Column              Non-Null Count  Dtype  
---  ------              --------------  -----  
 0   Country             1552 non-null   object 
 1   Subject Descriptor  1552 non-null   object 
 2   1980                827 non-null    object 
 3   1981                887 non-null    object 
 4   1982                899 non-null    object 
 5   1983                909 non-null    float64
 6   1984                915 non-null    float64
 7   1985                929 non-null    float64
 8   1986                937 non-null    object 
 9   1987                942 non-null    float64
 10  1988                955 non-null    float64
 11  1989                965 non-null    float64
 12  1990                1021 non-null   object 
 13  1991                1064 non-null   object 
 14  1992                1113 non-null   float64
 15  1993                1183 non-null   float64
 16  1994                1202 non-null   float64
 17  1995                1245 non-null   float64
 18  1996                1272 non-null   float64
 19  1997                1293 non-null   float64
 20  1998                1317 non-null   float64
 21  1999                1333 non-null   float64
 22  2000                1372 non-null   float64
 23  2001                1403 non-null   float64
 24  2002                1414 non-null   float64
 25  2003                1422 non-null   float64
 26  2004                1431 non-null   float64
 27  2005                1438 non-null   float64
 28  2006                1438 non-null   float64
 29  2007                1440 non-null   float64
 30  2008                1442 non-null   float64
 31  2009                1444 non-null   float64
 32  2010                1445 non-null   float64
 33  2011                1442 non-null   float64
 34  2012                1448 non-null   float64
 35  2013                1450 non-null   float64
 36  2014                1456 non-null   float64
 37  2015                1455 non-null   float64
 38  2016                1455 non-null   float64
 39  2017                1458 non-null   float64
 40  2018                1456 non-null   float64
 41  2019                1451 non-null   float64
 42  2020                1439 non-null   object 
 43  2021                1432 non-null   float64
dtypes: float64(35), object(9)
memory usage: 533.6+ KB</code></pre>
</div>
</div>
</section>
<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<p>This dataset is about yearly World Economic Outlook (WEO) from 2018 to 2021.</p>
<p>it contains data from the World Economic Outlook that pertains to national accounts,</p>
<ol type="1">
<li>inflation,</li>
<li>unemployment rates,</li>
<li>balance of payments,</li>
<li>fiscal indicators,</li>
<li>trade for countries and country groups (aggregates), and</li>
<li>commodity prices</li>
</ol>
</section>
</section>
<section id="dataset-statistical-information" class="level1">
<h1>Dataset statistical information</h1>
<p>Statistical information of year 1980, 1981 not shown because theire numerical values were storedas string, change it to float64</p>
<div id="cell-31" class="cell" data-execution_count="165">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="165">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">1983</th>
<th data-quarto-table-cell-role="th">1984</th>
<th data-quarto-table-cell-role="th">1985</th>
<th data-quarto-table-cell-role="th">1987</th>
<th data-quarto-table-cell-role="th">1988</th>
<th data-quarto-table-cell-role="th">1989</th>
<th data-quarto-table-cell-role="th">1992</th>
<th data-quarto-table-cell-role="th">1993</th>
<th data-quarto-table-cell-role="th">1994</th>
<th data-quarto-table-cell-role="th">1995</th>
<th data-quarto-table-cell-role="th">1996</th>
<th data-quarto-table-cell-role="th">1997</th>
<th data-quarto-table-cell-role="th">1998</th>
<th data-quarto-table-cell-role="th">1999</th>
<th data-quarto-table-cell-role="th">2000</th>
<th data-quarto-table-cell-role="th">2001</th>
<th data-quarto-table-cell-role="th">2002</th>
<th data-quarto-table-cell-role="th">2003</th>
<th data-quarto-table-cell-role="th">2004</th>
<th data-quarto-table-cell-role="th">2005</th>
<th data-quarto-table-cell-role="th">2006</th>
<th data-quarto-table-cell-role="th">2007</th>
<th data-quarto-table-cell-role="th">2008</th>
<th data-quarto-table-cell-role="th">2009</th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">2021</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>909.000000</td>
<td>915.000000</td>
<td>929.000000</td>
<td>942.000000</td>
<td>955.000000</td>
<td>965.000000</td>
<td>1113.000000</td>
<td>1183.000000</td>
<td>1202.000000</td>
<td>1245.000000</td>
<td>1272.000000</td>
<td>1293.000000</td>
<td>1317.000000</td>
<td>1333.000000</td>
<td>1372.000000</td>
<td>1403.000000</td>
<td>1414.000000</td>
<td>1422.000000</td>
<td>1431.000000</td>
<td>1438.000000</td>
<td>1438.000000</td>
<td>1440.000000</td>
<td>1442.000000</td>
<td>1444.000000</td>
<td>1445.000000</td>
<td>1442.000000</td>
<td>1448.000000</td>
<td>1450.000000</td>
<td>1456.000000</td>
<td>1455.000000</td>
<td>1455.000000</td>
<td>1458.000000</td>
<td>1456.000000</td>
<td>1451.000000</td>
<td>1432.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>24.089113</td>
<td>29.973714</td>
<td>49.160062</td>
<td>44.857137</td>
<td>39.625510</td>
<td>49.663190</td>
<td>43.476935</td>
<td>97.806560</td>
<td>88.577191</td>
<td>47.552335</td>
<td>44.248220</td>
<td>38.978293</td>
<td>37.080954</td>
<td>39.281696</td>
<td>41.309449</td>
<td>40.499236</td>
<td>41.456805</td>
<td>43.876414</td>
<td>47.328531</td>
<td>50.625901</td>
<td>55.255661</td>
<td>59.330948</td>
<td>62.055967</td>
<td>59.192219</td>
<td>64.473786</td>
<td>68.825349</td>
<td>71.633731</td>
<td>74.672724</td>
<td>78.056525</td>
<td>81.144135</td>
<td>85.391888</td>
<td>90.797095</td>
<td>229.419623</td>
<td>120.324225</td>
<td>126.706373</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>148.780558</td>
<td>182.468504</td>
<td>499.382977</td>
<td>468.612883</td>
<td>266.522987</td>
<td>361.915612</td>
<td>292.319825</td>
<td>623.111253</td>
<td>817.558372</td>
<td>312.133880</td>
<td>315.353145</td>
<td>300.347736</td>
<td>310.158770</td>
<td>326.696540</td>
<td>343.955996</td>
<td>353.663178</td>
<td>366.548244</td>
<td>385.848685</td>
<td>413.267206</td>
<td>444.857562</td>
<td>480.343967</td>
<td>516.915821</td>
<td>539.819240</td>
<td>547.456606</td>
<td>584.523877</td>
<td>624.775389</td>
<td>662.823392</td>
<td>703.229538</td>
<td>747.539290</td>
<td>790.720242</td>
<td>833.655906</td>
<td>889.376246</td>
<td>3928.414080</td>
<td>1167.001207</td>
<td>1238.569707</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>-154.626000</td>
<td>-114.382000</td>
<td>-89.328000</td>
<td>-157.962000</td>
<td>-208.495000</td>
<td>-76.171000</td>
<td>-557.499000</td>
<td>-217.936000</td>
<td>-487.312000</td>
<td>-123.416000</td>
<td>-124.557000</td>
<td>-32.429000</td>
<td>-90.323000</td>
<td>-59.742000</td>
<td>-51.165000</td>
<td>-57.331000</td>
<td>-84.105000</td>
<td>-43.796000</td>
<td>-35.398000</td>
<td>-31.522000</td>
<td>-39.037000</td>
<td>-72.729000</td>
<td>-49.471000</td>
<td>-27.732000</td>
<td>-32.784000</td>
<td>-66.657000</td>
<td>-54.054000</td>
<td>-40.521000</td>
<td>-78.446000</td>
<td>-130.796000</td>
<td>-113.180000</td>
<td>-43.464000</td>
<td>-44.592000</td>
<td>-42.227000</td>
<td>-74.001000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>-0.722000</td>
<td>0.382000</td>
<td>0.160000</td>
<td>0.141250</td>
<td>0.300500</td>
<td>0.449000</td>
<td>-0.982000</td>
<td>-0.916500</td>
<td>0.116250</td>
<td>0.169000</td>
<td>0.500000</td>
<td>0.266000</td>
<td>-0.505000</td>
<td>-0.648000</td>
<td>-0.036000</td>
<td>-0.268000</td>
<td>-0.100250</td>
<td>0.127750</td>
<td>0.822000</td>
<td>1.042000</td>
<td>1.519000</td>
<td>1.585250</td>
<td>0.515500</td>
<td>-2.741000</td>
<td>0.159000</td>
<td>0.410500</td>
<td>-0.199750</td>
<td>-0.193750</td>
<td>-0.214250</td>
<td>-0.859000</td>
<td>-0.556000</td>
<td>0.106750</td>
<td>0.355000</td>
<td>-0.007000</td>
<td>0.441750</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>3.335000</td>
<td>4.200000</td>
<td>3.624000</td>
<td>3.565000</td>
<td>4.143000</td>
<td>3.986000</td>
<td>3.204000</td>
<td>3.192000</td>
<td>3.940000</td>
<td>3.937000</td>
<td>3.664500</td>
<td>3.749000</td>
<td>3.100000</td>
<td>2.696000</td>
<td>3.630000</td>
<td>2.878000</td>
<td>2.826500</td>
<td>3.135500</td>
<td>3.781000</td>
<td>3.915500</td>
<td>4.532500</td>
<td>4.863000</td>
<td>4.683500</td>
<td>1.634500</td>
<td>3.491000</td>
<td>3.908000</td>
<td>3.142500</td>
<td>2.578000</td>
<td>2.447000</td>
<td>2.104000</td>
<td>2.163000</td>
<td>2.524000</td>
<td>2.440500</td>
<td>2.224000</td>
<td>3.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>10.039000</td>
<td>10.285000</td>
<td>9.695000</td>
<td>9.909000</td>
<td>10.243000</td>
<td>10.282000</td>
<td>9.950000</td>
<td>10.317500</td>
<td>11.227250</td>
<td>10.043000</td>
<td>9.573000</td>
<td>8.692000</td>
<td>8.071000</td>
<td>7.796000</td>
<td>8.372750</td>
<td>7.774500</td>
<td>7.965000</td>
<td>8.447000</td>
<td>8.576500</td>
<td>8.795000</td>
<td>9.031000</td>
<td>8.908250</td>
<td>10.236500</td>
<td>6.851750</td>
<td>7.612000</td>
<td>8.084250</td>
<td>7.316000</td>
<td>6.780500</td>
<td>6.483750</td>
<td>6.288000</td>
<td>6.203000</td>
<td>6.115750</td>
<td>6.001000</td>
<td>5.662000</td>
<td>6.280500</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>3634.030000</td>
<td>4037.650000</td>
<td>11749.630000</td>
<td>13109.500000</td>
<td>5236.430000</td>
<td>7428.700000</td>
<td>6520.330000</td>
<td>10896.200000</td>
<td>23773.100000</td>
<td>7639.750000</td>
<td>8073.130000</td>
<td>8577.550000</td>
<td>9062.830000</td>
<td>9630.700000</td>
<td>10252.350000</td>
<td>10581.830000</td>
<td>10936.450000</td>
<td>11458.250000</td>
<td>12213.730000</td>
<td>13036.630000</td>
<td>13814.600000</td>
<td>14451.880000</td>
<td>14712.830000</td>
<td>14448.930000</td>
<td>14992.050000</td>
<td>15542.600000</td>
<td>16197.050000</td>
<td>16784.830000</td>
<td>18205.300000</td>
<td>19664.070000</td>
<td>21228.380000</td>
<td>23130.720000</td>
<td>130060.240000</td>
<td>27306.980000</td>
<td>30956.730000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-32" class="cell" data-execution_count="166">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"shape </span><span class="sc">{</span>df<span class="sc">.</span>shape<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>df.info(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>shape (1552, 44)
&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1552 entries, 0 to 1551
Data columns (total 44 columns):
 #   Column              Non-Null Count  Dtype  
---  ------              --------------  -----  
 0   Country             1552 non-null   object 
 1   Subject Descriptor  1552 non-null   object 
 2   1980                827 non-null    object 
 3   1981                887 non-null    object 
 4   1982                899 non-null    object 
 5   1983                909 non-null    float64
 6   1984                915 non-null    float64
 7   1985                929 non-null    float64
 8   1986                937 non-null    object 
 9   1987                942 non-null    float64
 10  1988                955 non-null    float64
 11  1989                965 non-null    float64
 12  1990                1021 non-null   object 
 13  1991                1064 non-null   object 
 14  1992                1113 non-null   float64
 15  1993                1183 non-null   float64
 16  1994                1202 non-null   float64
 17  1995                1245 non-null   float64
 18  1996                1272 non-null   float64
 19  1997                1293 non-null   float64
 20  1998                1317 non-null   float64
 21  1999                1333 non-null   float64
 22  2000                1372 non-null   float64
 23  2001                1403 non-null   float64
 24  2002                1414 non-null   float64
 25  2003                1422 non-null   float64
 26  2004                1431 non-null   float64
 27  2005                1438 non-null   float64
 28  2006                1438 non-null   float64
 29  2007                1440 non-null   float64
 30  2008                1442 non-null   float64
 31  2009                1444 non-null   float64
 32  2010                1445 non-null   float64
 33  2011                1442 non-null   float64
 34  2012                1448 non-null   float64
 35  2013                1450 non-null   float64
 36  2014                1456 non-null   float64
 37  2015                1455 non-null   float64
 38  2016                1455 non-null   float64
 39  2017                1458 non-null   float64
 40  2018                1456 non-null   float64
 41  2019                1451 non-null   float64
 42  2020                1439 non-null   object 
 43  2021                1432 non-null   float64
dtypes: float64(35), object(9)
memory usage: 533.6+ KB</code></pre>
</div>
</div>
<div id="cell-33" class="cell" data-execution_count="167">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get column nams for year</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co"># import numpy as np</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># year_col = [c for c in df.columns if c[:2] in ["20", "19"]]</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># df[year_col] = df[year_col].applymap(lambda x: x if x == "" else float(x))</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co"># df[year_col].describe()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<table class="table">
<colgroup>
<col style="width: 29%">
<col style="width: 70%">
</colgroup>
<thead>
<tr class="header">
<th>WEO indictor</th>
<th>Subject Descriptor Attribute Category</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>inflation,</td>
<td>Inflation, average consumer prices<br>Inflation, end of period consumer prices<br><br></td>
</tr>
<tr class="even">
<td>unemployment rates,</td>
<td>Unemployment rate</td>
</tr>
<tr class="odd">
<td>balance of payments,</td>
<td>Current account balance</td>
</tr>
<tr class="even">
<td>fiscal indicators,</td>
<td>Gross domestic product, constant prices<br>Gross domestic product, current prices<br>Gross domestic product per capita, constant prices</td>
</tr>
<tr class="odd">
<td>trade for countries and country groups (aggregates), and</td>
<td>General government net lending/borrowing</td>
</tr>
<tr class="even">
<td>commodity prices</td>
<td></td>
</tr>
</tbody>
</table>
<section id="remove-last-2-rows-removed" class="level2">
<h2 class="anchored" data-anchor-id="remove-last-2-rows-removed">Remove last 2 rows # Removed</h2>
<div id="cell-36" class="cell" data-execution_count="168">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># display(df_imf[df_imf["Country"].isna()])</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># df_imf[df_imf["Country"].isna()].isna().sum(axis=1)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-37" class="cell" data-execution_count="169">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># df_imf = df_imf.iloc[:-2]</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co"># df_imf.shape</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Q2)</strong> Using an appropriate graph, visualize the unemployment rates from 2010 - 2019 for the 5 countries with the highest mean unemployment rates over these 10 years.</p>
<ul>
<li>Assume all <code>NaN</code> values are 0s (i.e.&nbsp;change all <code>NaN</code> values to 0).</li>
<li>A properly labeled figure of size (13 by 10) must be displayed as the end result at the last code cell of this question.</li>
<li>Save the figure with a dpi of <code>200</code> and name it <code>imf_plot01.png</code> (This file is to be submitted).</li>
</ul>
<div id="cell-39" class="cell" data-execution_count="170">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"Subject Descriptor"</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="170">
<pre><code>array(['Gross domestic product, constant prices',
       'Gross domestic product, current prices',
       'Gross domestic product per capita, constant prices',
       'Inflation, average consumer prices',
       'Inflation, end of period consumer prices', 'Unemployment rate',
       'General government net lending/borrowing',
       'Current account balance'], dtype=object)</code></pre>
</div>
</div>
<div id="cell-40" class="cell" data-execution_count="171">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># scope down dataframe to reduce memory</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>targeted_years <span class="op">=</span> <span class="bu">list</span>(<span class="bu">str</span>(y) <span class="cf">for</span> y <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2010</span>, <span class="dv">2020</span>))</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> df[[<span class="st">"Country"</span>, <span class="st">"Subject Descriptor"</span>] <span class="op">+</span> targeted_years]</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>display(df1.head())</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>df1.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Subject Descriptor</th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Afghanistan</td>
<td>Gross domestic product, constant prices</td>
<td>8.438</td>
<td>6.479</td>
<td>13.968</td>
<td>5.683</td>
<td>2.697</td>
<td>0.988</td>
<td>2.164</td>
<td>2.889</td>
<td>2.664</td>
<td>3.037</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Afghanistan</td>
<td>Gross domestic product, current prices</td>
<td>44.323</td>
<td>48.180</td>
<td>55.963</td>
<td>60.181</td>
<td>62.948</td>
<td>64.231</td>
<td>66.301</td>
<td>69.501</td>
<td>73.091</td>
<td>76.624</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Afghanistan</td>
<td>Gross domestic product per capita, constant pr...</td>
<td>5.431</td>
<td>3.234</td>
<td>10.299</td>
<td>2.236</td>
<td>-0.521</td>
<td>-1.941</td>
<td>-0.547</td>
<td>0.358</td>
<td>1.268</td>
<td>1.654</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Afghanistan</td>
<td>Inflation, average consumer prices</td>
<td>2.179</td>
<td>11.804</td>
<td>6.441</td>
<td>7.386</td>
<td>4.674</td>
<td>-0.662</td>
<td>4.384</td>
<td>4.976</td>
<td>0.626</td>
<td>2.302</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Afghanistan</td>
<td>Inflation, end of period consumer prices</td>
<td>10.246</td>
<td>9.312</td>
<td>5.875</td>
<td>7.241</td>
<td>1.487</td>
<td>1.131</td>
<td>4.588</td>
<td>3.041</td>
<td>0.755</td>
<td>2.773</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1552 entries, 0 to 1551
Data columns (total 12 columns):
 #   Column              Non-Null Count  Dtype  
---  ------              --------------  -----  
 0   Country             1552 non-null   object 
 1   Subject Descriptor  1552 non-null   object 
 2   2010                1445 non-null   float64
 3   2011                1442 non-null   float64
 4   2012                1448 non-null   float64
 5   2013                1450 non-null   float64
 6   2014                1456 non-null   float64
 7   2015                1455 non-null   float64
 8   2016                1455 non-null   float64
 9   2017                1458 non-null   float64
 10  2018                1456 non-null   float64
 11  2019                1451 non-null   float64
dtypes: float64(10), object(2)
memory usage: 145.6+ KB</code></pre>
</div>
</div>
<div id="cell-41" class="cell" data-execution_count="172">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> df1[df1[<span class="st">"Subject Descriptor"</span>] <span class="op">==</span> <span class="st">"Unemployment rate"</span>]</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>display(df1.head(<span class="dv">2</span>))</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>df1.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Subject Descriptor</th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>Afghanistan</td>
<td>Unemployment rate</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Albania</td>
<td>Unemployment rate</td>
<td>14.0</td>
<td>14.0</td>
<td>13.4</td>
<td>15.9</td>
<td>17.5</td>
<td>17.1</td>
<td>15.2</td>
<td>13.7</td>
<td>12.3</td>
<td>12.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 194 entries, 5 to 1549
Data columns (total 12 columns):
 #   Column              Non-Null Count  Dtype  
---  ------              --------------  -----  
 0   Country             194 non-null    object 
 1   Subject Descriptor  194 non-null    object 
 2   2010                112 non-null    float64
 3   2011                112 non-null    float64
 4   2012                112 non-null    float64
 5   2013                112 non-null    float64
 6   2014                112 non-null    float64
 7   2015                112 non-null    float64
 8   2016                112 non-null    float64
 9   2017                112 non-null    float64
 10  2018                110 non-null    float64
 11  2019                105 non-null    float64
dtypes: float64(10), object(2)
memory usage: 19.7+ KB</code></pre>
</div>
</div>
</section>
<section id="check-is-there-any-year-with-unemployment-rate-of-zero-before-replacing-nan-with-zero" class="level2">
<h2 class="anchored" data-anchor-id="check-is-there-any-year-with-unemployment-rate-of-zero-before-replacing-nan-with-zero">Check is there any year with unemployment rate of zero before replacing NaN with zero</h2>
<div id="cell-43" class="cell" data-execution_count="173">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="kw">not</span> df1[targeted_years].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x <span class="op">==</span> <span class="dv">0</span>).<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">0</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="drop-country-that-only-has-nan-for-unemployment-throughout-2010-2019" class="level1">
<h1>Drop country that only has NaN for unemployment throughout 2010-2019</h1>
<p>This is to avoid wrong impression that the mean unemployment rate of such country is zero, assume the NaN is replaced with Zero</p>
<div id="cell-45" class="cell" data-execution_count="174">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># All country occur once only</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="co"># df1.Country.value_counts().sort_values()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-46" class="cell" data-execution_count="175">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set country as index</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>df1.set_index(<span class="st">"Country"</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>df1.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="175">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Subject Descriptor</th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Afghanistan</td>
<td>Unemployment rate</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Albania</td>
<td>Unemployment rate</td>
<td>14.000</td>
<td>14.000</td>
<td>13.400</td>
<td>15.900</td>
<td>17.5</td>
<td>17.100</td>
<td>15.200</td>
<td>13.700</td>
<td>12.300</td>
<td>12.000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Algeria</td>
<td>Unemployment rate</td>
<td>9.961</td>
<td>9.971</td>
<td>10.969</td>
<td>9.829</td>
<td>10.6</td>
<td>11.214</td>
<td>10.498</td>
<td>11.709</td>
<td>11.731</td>
<td>11.383</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Angola</td>
<td>Unemployment rate</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Antigua and Barbuda</td>
<td>Unemployment rate</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-47" class="cell" data-execution_count="176">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>df1.drop(columns<span class="op">=</span><span class="st">"Subject Descriptor"</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>df1.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="176">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Afghanistan</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Albania</td>
<td>14.000</td>
<td>14.000</td>
<td>13.400</td>
<td>15.900</td>
<td>17.5</td>
<td>17.100</td>
<td>15.200</td>
<td>13.700</td>
<td>12.300</td>
<td>12.000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Algeria</td>
<td>9.961</td>
<td>9.971</td>
<td>10.969</td>
<td>9.829</td>
<td>10.6</td>
<td>11.214</td>
<td>10.498</td>
<td>11.709</td>
<td>11.731</td>
<td>11.383</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Angola</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Antigua and Barbuda</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-48" class="cell" data-execution_count="177">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>row_isna_sum <span class="op">=</span> df1.isna().<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>).sort_values(ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>row_isna_sum.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="177">
<pre><code>Country
Afghanistan    10
Nepal          10
Namibia        10
Mozambique     10
Montenegro     10
dtype: int64</code></pre>
</div>
</div>
<div id="cell-49" class="cell" data-execution_count="178">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>row_index_to_drop <span class="op">=</span> row_isna_sum[row_isna_sum <span class="op">==</span> <span class="dv">10</span>].index</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-50" class="cell" data-execution_count="179">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop the 80 countries from the analysis of mean unemployment rate</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>df1.drop(index<span class="op">=</span>row_index_to_drop, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>df1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="179">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Albania</td>
<td>14.000</td>
<td>14.000</td>
<td>13.400</td>
<td>15.900</td>
<td>17.500</td>
<td>17.100</td>
<td>15.200</td>
<td>13.700</td>
<td>12.300</td>
<td>12.000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Algeria</td>
<td>9.961</td>
<td>9.971</td>
<td>10.969</td>
<td>9.829</td>
<td>10.600</td>
<td>11.214</td>
<td>10.498</td>
<td>11.709</td>
<td>11.731</td>
<td>11.383</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Argentina</td>
<td>7.750</td>
<td>7.150</td>
<td>7.200</td>
<td>7.075</td>
<td>7.250</td>
<td>6.533</td>
<td>8.467</td>
<td>8.350</td>
<td>9.200</td>
<td>9.825</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Armenia</td>
<td>19.000</td>
<td>18.400</td>
<td>17.300</td>
<td>16.200</td>
<td>17.600</td>
<td>18.500</td>
<td>18.000</td>
<td>17.800</td>
<td>20.400</td>
<td>17.707</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Aruba</td>
<td>10.600</td>
<td>8.879</td>
<td>9.607</td>
<td>7.599</td>
<td>7.451</td>
<td>7.298</td>
<td>7.694</td>
<td>8.923</td>
<td>7.283</td>
<td>7.544</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">United Kingdom</td>
<td>7.900</td>
<td>8.100</td>
<td>7.975</td>
<td>7.575</td>
<td>6.200</td>
<td>5.375</td>
<td>4.875</td>
<td>4.425</td>
<td>4.075</td>
<td>3.825</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">United States</td>
<td>9.608</td>
<td>8.933</td>
<td>8.075</td>
<td>7.358</td>
<td>6.158</td>
<td>5.275</td>
<td>4.875</td>
<td>4.342</td>
<td>3.892</td>
<td>3.667</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Uruguay</td>
<td>7.025</td>
<td>6.342</td>
<td>6.325</td>
<td>6.500</td>
<td>6.625</td>
<td>7.533</td>
<td>7.867</td>
<td>7.925</td>
<td>8.367</td>
<td>9.420</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Venezuela</td>
<td>8.508</td>
<td>8.204</td>
<td>7.823</td>
<td>7.470</td>
<td>6.700</td>
<td>7.400</td>
<td>20.863</td>
<td>27.886</td>
<td>35.543</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Vietnam</td>
<td>4.290</td>
<td>4.513</td>
<td>2.740</td>
<td>2.750</td>
<td>2.100</td>
<td>2.330</td>
<td>2.330</td>
<td>2.210</td>
<td>2.210</td>
<td>2.210</td>
</tr>
</tbody>
</table>

<p>114 rows × 10 columns</p>
</div>
</div>
</div>
</div>
<div id="cell-51" class="cell" data-execution_count="180">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>isna_row <span class="op">=</span> df1.isna().<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>isna_index <span class="op">=</span> isna_row[isna_row].index</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> df1.loc[<span class="bu">list</span>(isna_index)]</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="180">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bhutan</td>
<td>3.300</td>
<td>3.100</td>
<td>2.100</td>
<td>2.900</td>
<td>2.600</td>
<td>2.500</td>
<td>2.100</td>
<td>3.138</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Brunei Darussalam</td>
<td>NaN</td>
<td>9.300</td>
<td>8.500</td>
<td>7.700</td>
<td>6.900</td>
<td>7.700</td>
<td>8.500</td>
<td>9.300</td>
<td>9.316</td>
<td>9.316</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Jamaica</td>
<td>12.375</td>
<td>12.400</td>
<td>13.925</td>
<td>15.275</td>
<td>13.750</td>
<td>13.500</td>
<td>13.200</td>
<td>11.650</td>
<td>9.125</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Kosovo</td>
<td>NaN</td>
<td>NaN</td>
<td>30.900</td>
<td>30.000</td>
<td>35.300</td>
<td>32.900</td>
<td>27.500</td>
<td>30.500</td>
<td>29.600</td>
<td>25.700</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Kuwait</td>
<td>2.072</td>
<td>2.078</td>
<td>1.986</td>
<td>1.902</td>
<td>1.722</td>
<td>1.322</td>
<td>1.248</td>
<td>1.280</td>
<td>1.087</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Nigeria</td>
<td>5.092</td>
<td>5.957</td>
<td>10.566</td>
<td>9.955</td>
<td>7.841</td>
<td>9.000</td>
<td>13.375</td>
<td>17.462</td>
<td>22.562</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">São Tomé and Príncipe</td>
<td>14.628</td>
<td>14.127</td>
<td>13.590</td>
<td>13.525</td>
<td>13.472</td>
<td>13.433</td>
<td>13.416</td>
<td>13.472</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Saudi Arabia</td>
<td>5.548</td>
<td>5.772</td>
<td>5.524</td>
<td>5.568</td>
<td>5.721</td>
<td>5.591</td>
<td>5.600</td>
<td>6.000</td>
<td>6.000</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Syria</td>
<td>8.613</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Tajikistan</td>
<td>2.200</td>
<td>2.492</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Venezuela</td>
<td>8.508</td>
<td>8.204</td>
<td>7.823</td>
<td>7.470</td>
<td>6.700</td>
<td>7.400</td>
<td>20.863</td>
<td>27.886</td>
<td>35.543</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-52" class="cell" data-execution_count="181">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">"Number non NA"</span>] <span class="op">=</span> <span class="dv">10</span> <span class="op">-</span> df2.isna().<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="181">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">Number non NA</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bhutan</td>
<td>3.300</td>
<td>3.100</td>
<td>2.100</td>
<td>2.900</td>
<td>2.600</td>
<td>2.500</td>
<td>2.100</td>
<td>3.138</td>
<td>NaN</td>
<td>NaN</td>
<td>8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Brunei Darussalam</td>
<td>NaN</td>
<td>9.300</td>
<td>8.500</td>
<td>7.700</td>
<td>6.900</td>
<td>7.700</td>
<td>8.500</td>
<td>9.300</td>
<td>9.316</td>
<td>9.316</td>
<td>9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Jamaica</td>
<td>12.375</td>
<td>12.400</td>
<td>13.925</td>
<td>15.275</td>
<td>13.750</td>
<td>13.500</td>
<td>13.200</td>
<td>11.650</td>
<td>9.125</td>
<td>NaN</td>
<td>9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Kosovo</td>
<td>NaN</td>
<td>NaN</td>
<td>30.900</td>
<td>30.000</td>
<td>35.300</td>
<td>32.900</td>
<td>27.500</td>
<td>30.500</td>
<td>29.600</td>
<td>25.700</td>
<td>8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Kuwait</td>
<td>2.072</td>
<td>2.078</td>
<td>1.986</td>
<td>1.902</td>
<td>1.722</td>
<td>1.322</td>
<td>1.248</td>
<td>1.280</td>
<td>1.087</td>
<td>NaN</td>
<td>9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Nigeria</td>
<td>5.092</td>
<td>5.957</td>
<td>10.566</td>
<td>9.955</td>
<td>7.841</td>
<td>9.000</td>
<td>13.375</td>
<td>17.462</td>
<td>22.562</td>
<td>NaN</td>
<td>9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">São Tomé and Príncipe</td>
<td>14.628</td>
<td>14.127</td>
<td>13.590</td>
<td>13.525</td>
<td>13.472</td>
<td>13.433</td>
<td>13.416</td>
<td>13.472</td>
<td>NaN</td>
<td>NaN</td>
<td>8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Saudi Arabia</td>
<td>5.548</td>
<td>5.772</td>
<td>5.524</td>
<td>5.568</td>
<td>5.721</td>
<td>5.591</td>
<td>5.600</td>
<td>6.000</td>
<td>6.000</td>
<td>NaN</td>
<td>9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Syria</td>
<td>8.613</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Tajikistan</td>
<td>2.200</td>
<td>2.492</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Venezuela</td>
<td>8.508</td>
<td>8.204</td>
<td>7.823</td>
<td>7.470</td>
<td>6.700</td>
<td>7.400</td>
<td>20.863</td>
<td>27.886</td>
<td>35.543</td>
<td>NaN</td>
<td>9</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-53" class="cell" data-execution_count="182">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">"Mean using api"</span>] <span class="op">=</span> df2[targeted_years].mean(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="182">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">Number non NA</th>
<th data-quarto-table-cell-role="th">Mean using api</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bhutan</td>
<td>3.300</td>
<td>3.100</td>
<td>2.100</td>
<td>2.900</td>
<td>2.600</td>
<td>2.500</td>
<td>2.100</td>
<td>3.138</td>
<td>NaN</td>
<td>NaN</td>
<td>8</td>
<td>2.717250</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Brunei Darussalam</td>
<td>NaN</td>
<td>9.300</td>
<td>8.500</td>
<td>7.700</td>
<td>6.900</td>
<td>7.700</td>
<td>8.500</td>
<td>9.300</td>
<td>9.316</td>
<td>9.316</td>
<td>9</td>
<td>8.503556</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Jamaica</td>
<td>12.375</td>
<td>12.400</td>
<td>13.925</td>
<td>15.275</td>
<td>13.750</td>
<td>13.500</td>
<td>13.200</td>
<td>11.650</td>
<td>9.125</td>
<td>NaN</td>
<td>9</td>
<td>12.800000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Kosovo</td>
<td>NaN</td>
<td>NaN</td>
<td>30.900</td>
<td>30.000</td>
<td>35.300</td>
<td>32.900</td>
<td>27.500</td>
<td>30.500</td>
<td>29.600</td>
<td>25.700</td>
<td>8</td>
<td>30.300000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Kuwait</td>
<td>2.072</td>
<td>2.078</td>
<td>1.986</td>
<td>1.902</td>
<td>1.722</td>
<td>1.322</td>
<td>1.248</td>
<td>1.280</td>
<td>1.087</td>
<td>NaN</td>
<td>9</td>
<td>1.633000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Nigeria</td>
<td>5.092</td>
<td>5.957</td>
<td>10.566</td>
<td>9.955</td>
<td>7.841</td>
<td>9.000</td>
<td>13.375</td>
<td>17.462</td>
<td>22.562</td>
<td>NaN</td>
<td>9</td>
<td>11.312222</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">São Tomé and Príncipe</td>
<td>14.628</td>
<td>14.127</td>
<td>13.590</td>
<td>13.525</td>
<td>13.472</td>
<td>13.433</td>
<td>13.416</td>
<td>13.472</td>
<td>NaN</td>
<td>NaN</td>
<td>8</td>
<td>13.707875</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Saudi Arabia</td>
<td>5.548</td>
<td>5.772</td>
<td>5.524</td>
<td>5.568</td>
<td>5.721</td>
<td>5.591</td>
<td>5.600</td>
<td>6.000</td>
<td>6.000</td>
<td>NaN</td>
<td>9</td>
<td>5.702667</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Syria</td>
<td>8.613</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1</td>
<td>8.613000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Tajikistan</td>
<td>2.200</td>
<td>2.492</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>2</td>
<td>2.346000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Venezuela</td>
<td>8.508</td>
<td>8.204</td>
<td>7.823</td>
<td>7.470</td>
<td>6.700</td>
<td>7.400</td>
<td>20.863</td>
<td>27.886</td>
<td>35.543</td>
<td>NaN</td>
<td>9</td>
<td>14.488556</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-54" class="cell" data-execution_count="183">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">"sum"</span>] <span class="op">=</span> df2[targeted_years].<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-55" class="cell" data-execution_count="184">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">"Mean using formula"</span>] <span class="op">=</span> df2[<span class="st">"sum"</span>] <span class="op">/</span> df2[<span class="st">"Number non NA"</span>]</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="184">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">Number non NA</th>
<th data-quarto-table-cell-role="th">Mean using api</th>
<th data-quarto-table-cell-role="th">sum</th>
<th data-quarto-table-cell-role="th">Mean using formula</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bhutan</td>
<td>3.300</td>
<td>3.100</td>
<td>2.100</td>
<td>2.900</td>
<td>2.600</td>
<td>2.500</td>
<td>2.100</td>
<td>3.138</td>
<td>NaN</td>
<td>NaN</td>
<td>8</td>
<td>2.717250</td>
<td>21.738</td>
<td>2.717250</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Brunei Darussalam</td>
<td>NaN</td>
<td>9.300</td>
<td>8.500</td>
<td>7.700</td>
<td>6.900</td>
<td>7.700</td>
<td>8.500</td>
<td>9.300</td>
<td>9.316</td>
<td>9.316</td>
<td>9</td>
<td>8.503556</td>
<td>76.532</td>
<td>8.503556</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Jamaica</td>
<td>12.375</td>
<td>12.400</td>
<td>13.925</td>
<td>15.275</td>
<td>13.750</td>
<td>13.500</td>
<td>13.200</td>
<td>11.650</td>
<td>9.125</td>
<td>NaN</td>
<td>9</td>
<td>12.800000</td>
<td>115.200</td>
<td>12.800000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Kosovo</td>
<td>NaN</td>
<td>NaN</td>
<td>30.900</td>
<td>30.000</td>
<td>35.300</td>
<td>32.900</td>
<td>27.500</td>
<td>30.500</td>
<td>29.600</td>
<td>25.700</td>
<td>8</td>
<td>30.300000</td>
<td>242.400</td>
<td>30.300000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Kuwait</td>
<td>2.072</td>
<td>2.078</td>
<td>1.986</td>
<td>1.902</td>
<td>1.722</td>
<td>1.322</td>
<td>1.248</td>
<td>1.280</td>
<td>1.087</td>
<td>NaN</td>
<td>9</td>
<td>1.633000</td>
<td>14.697</td>
<td>1.633000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Nigeria</td>
<td>5.092</td>
<td>5.957</td>
<td>10.566</td>
<td>9.955</td>
<td>7.841</td>
<td>9.000</td>
<td>13.375</td>
<td>17.462</td>
<td>22.562</td>
<td>NaN</td>
<td>9</td>
<td>11.312222</td>
<td>101.810</td>
<td>11.312222</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">São Tomé and Príncipe</td>
<td>14.628</td>
<td>14.127</td>
<td>13.590</td>
<td>13.525</td>
<td>13.472</td>
<td>13.433</td>
<td>13.416</td>
<td>13.472</td>
<td>NaN</td>
<td>NaN</td>
<td>8</td>
<td>13.707875</td>
<td>109.663</td>
<td>13.707875</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Saudi Arabia</td>
<td>5.548</td>
<td>5.772</td>
<td>5.524</td>
<td>5.568</td>
<td>5.721</td>
<td>5.591</td>
<td>5.600</td>
<td>6.000</td>
<td>6.000</td>
<td>NaN</td>
<td>9</td>
<td>5.702667</td>
<td>51.324</td>
<td>5.702667</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Syria</td>
<td>8.613</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1</td>
<td>8.613000</td>
<td>8.613</td>
<td>8.613000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Tajikistan</td>
<td>2.200</td>
<td>2.492</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>2</td>
<td>2.346000</td>
<td>4.692</td>
<td>2.346000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Venezuela</td>
<td>8.508</td>
<td>8.204</td>
<td>7.823</td>
<td>7.470</td>
<td>6.700</td>
<td>7.400</td>
<td>20.863</td>
<td>27.886</td>
<td>35.543</td>
<td>NaN</td>
<td>9</td>
<td>14.488556</td>
<td>130.397</td>
<td>14.488556</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-56" class="cell" data-execution_count="185">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Error if api result different from formula result</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="co"># assert (df2["Mean using api"] == df2["Mean using formula"]).sum() == len(df2)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="calculate-mean-using-api-to-get-top-5-countries-rank-by-mean-of-unemployment-rate" class="level2">
<h2 class="anchored" data-anchor-id="calculate-mean-using-api-to-get-top-5-countries-rank-by-mean-of-unemployment-rate">Calculate mean using API to get top 5 countries rank by mean of unemployment rate</h2>
<div id="cell-58" class="cell" data-execution_count="186">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">"Mean"</span>] <span class="op">=</span> df1[targeted_years].mean(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>df1_sorted_by_mean <span class="op">=</span> df1.sort_values(by<span class="op">=</span><span class="st">"Mean"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>df1_sorted_by_mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="186">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2011</th>
<th data-quarto-table-cell-role="th">2012</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2014</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2016</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">Mean</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Kosovo</td>
<td>NaN</td>
<td>NaN</td>
<td>30.900</td>
<td>30.000</td>
<td>35.300</td>
<td>32.900</td>
<td>27.500</td>
<td>30.500</td>
<td>29.600</td>
<td>25.700</td>
<td>30.3000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">North Macedonia</td>
<td>32.050</td>
<td>31.375</td>
<td>31.000</td>
<td>29.000</td>
<td>28.025</td>
<td>26.050</td>
<td>23.750</td>
<td>22.375</td>
<td>20.725</td>
<td>17.250</td>
<td>26.1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">South Africa</td>
<td>24.875</td>
<td>24.800</td>
<td>24.875</td>
<td>24.725</td>
<td>25.100</td>
<td>25.350</td>
<td>26.725</td>
<td>27.450</td>
<td>27.125</td>
<td>28.700</td>
<td>25.9725</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Bosnia and Herzegovina</td>
<td>27.202</td>
<td>27.600</td>
<td>28.000</td>
<td>27.500</td>
<td>27.500</td>
<td>27.700</td>
<td>25.400</td>
<td>20.500</td>
<td>18.400</td>
<td>15.700</td>
<td>24.5502</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Greece</td>
<td>12.725</td>
<td>17.850</td>
<td>24.425</td>
<td>27.475</td>
<td>26.500</td>
<td>24.900</td>
<td>23.550</td>
<td>21.450</td>
<td>19.300</td>
<td>17.300</td>
<td>21.5475</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Singapore</td>
<td>2.175</td>
<td>2.025</td>
<td>1.950</td>
<td>1.900</td>
<td>1.950</td>
<td>1.900</td>
<td>2.075</td>
<td>2.175</td>
<td>2.100</td>
<td>2.250</td>
<td>2.0500</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Macao SAR</td>
<td>2.825</td>
<td>2.575</td>
<td>2.000</td>
<td>1.850</td>
<td>1.700</td>
<td>1.825</td>
<td>1.900</td>
<td>1.975</td>
<td>1.800</td>
<td>1.725</td>
<td>2.0175</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Kuwait</td>
<td>2.072</td>
<td>2.078</td>
<td>1.986</td>
<td>1.902</td>
<td>1.722</td>
<td>1.322</td>
<td>1.248</td>
<td>1.280</td>
<td>1.087</td>
<td>NaN</td>
<td>1.6330</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Thailand</td>
<td>1.050</td>
<td>0.658</td>
<td>0.675</td>
<td>0.700</td>
<td>0.800</td>
<td>0.900</td>
<td>1.000</td>
<td>1.200</td>
<td>1.100</td>
<td>1.100</td>
<td>0.9183</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Belarus</td>
<td>0.827</td>
<td>0.668</td>
<td>0.614</td>
<td>0.508</td>
<td>0.488</td>
<td>0.912</td>
<td>1.017</td>
<td>0.768</td>
<td>0.428</td>
<td>0.308</td>
<td>0.6538</td>
</tr>
</tbody>
</table>

<p>114 rows × 11 columns</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="choose-top-5-country-according-to-above-mean-value" class="level1">
<h1>Choose top 5 country according to above mean value</h1>
<div id="cell-60" class="cell" data-execution_count="187">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>top_5_country <span class="op">=</span> <span class="bu">list</span>(df1_sorted_by_mean.index)[:<span class="dv">5</span>]</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(top_5_country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>['Kosovo', 'North Macedonia', 'South Africa', 'Bosnia and Herzegovina', 'Greece']</code></pre>
</div>
</div>
<div id="cell-61" class="cell" data-lable="fig-unemployment-rate" data-execution_count="188">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># - A properly labeled figure of size (13 by 10) must be displayed as the end result at the last code cell of this question.</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co"># - Save the figure with a dpi of `200` and name it `imf_plot01.png` (This file is to be submitted).</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>_, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">13</span>, <span class="dv">10</span>))</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>df1[targeted_years].loc[top_5_country].transpose().plot(ax<span class="op">=</span>ax, marker<span class="op">=</span><span class="st">"o"</span>)</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Unemployment rate"</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">"Year"</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>ax.set_title(</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Unemployment rate as a percent of total labour force from 2010 to 2019"</span>,</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>    fontsize<span class="op">=</span><span class="dv">23</span>,</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(bottom<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>plt.text(</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">8</span>,</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">-</span><span class="dv">4</span>,</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Unemployemnt rates for Kosovo in </span><span class="ch">\n</span><span class="st"> 2010 and 2011 are not available"</span>,</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>    fontsize<span class="op">=</span><span class="dv">16</span>,</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>    ha<span class="op">=</span><span class="st">"center"</span>,</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>ax.legend(loc<span class="op">=</span><span class="st">"lower right"</span>)</span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>plt.xticks(fontsize<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>plt.yticks(fontsize<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">"imf_plot01.png"</span>, dpi<span class="op">=</span><span class="dv">200</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Advanced%20Python%20Practicum%202_files/figure-html/cell-42-output-1.png" class="img-fluid figure-img"></p>
<figcaption>Unemployment rate as a percent of total labour force from 2010 to 2019</figcaption>
</figure>
</div>
</div>
</div>
<div id="cell-62" class="cell" data-execution_count="189">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>df1[targeted_years].transpose().rename_axis(<span class="st">"Year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="189">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Albania</th>
<th data-quarto-table-cell-role="th">Algeria</th>
<th data-quarto-table-cell-role="th">Argentina</th>
<th data-quarto-table-cell-role="th">Armenia</th>
<th data-quarto-table-cell-role="th">Aruba</th>
<th data-quarto-table-cell-role="th">Australia</th>
<th data-quarto-table-cell-role="th">Austria</th>
<th data-quarto-table-cell-role="th">Azerbaijan</th>
<th data-quarto-table-cell-role="th">The Bahamas</th>
<th data-quarto-table-cell-role="th">Bahrain</th>
<th data-quarto-table-cell-role="th">Barbados</th>
<th data-quarto-table-cell-role="th">Belarus</th>
<th data-quarto-table-cell-role="th">Belgium</th>
<th data-quarto-table-cell-role="th">Belize</th>
<th data-quarto-table-cell-role="th">Bhutan</th>
<th data-quarto-table-cell-role="th">Bolivia</th>
<th data-quarto-table-cell-role="th">Bosnia and Herzegovina</th>
<th data-quarto-table-cell-role="th">Brazil</th>
<th data-quarto-table-cell-role="th">Brunei Darussalam</th>
<th data-quarto-table-cell-role="th">Bulgaria</th>
<th data-quarto-table-cell-role="th">Cabo Verde</th>
<th data-quarto-table-cell-role="th">Canada</th>
<th data-quarto-table-cell-role="th">Chile</th>
<th data-quarto-table-cell-role="th">China</th>
<th data-quarto-table-cell-role="th">Colombia</th>
<th data-quarto-table-cell-role="th">Costa Rica</th>
<th data-quarto-table-cell-role="th">Croatia</th>
<th data-quarto-table-cell-role="th">Cyprus</th>
<th data-quarto-table-cell-role="th">Czech Republic</th>
<th data-quarto-table-cell-role="th">Denmark</th>
<th data-quarto-table-cell-role="th">Dominican Republic</th>
<th data-quarto-table-cell-role="th">Ecuador</th>
<th data-quarto-table-cell-role="th">Egypt</th>
<th data-quarto-table-cell-role="th">El Salvador</th>
<th data-quarto-table-cell-role="th">Estonia</th>
<th data-quarto-table-cell-role="th">Fiji</th>
<th data-quarto-table-cell-role="th">Finland</th>
<th data-quarto-table-cell-role="th">France</th>
<th data-quarto-table-cell-role="th">Georgia</th>
<th data-quarto-table-cell-role="th">Germany</th>
<th data-quarto-table-cell-role="th">Greece</th>
<th data-quarto-table-cell-role="th">Honduras</th>
<th data-quarto-table-cell-role="th">Hong Kong SAR</th>
<th data-quarto-table-cell-role="th">Hungary</th>
<th data-quarto-table-cell-role="th">Iceland</th>
<th data-quarto-table-cell-role="th">Indonesia</th>
<th data-quarto-table-cell-role="th">Islamic Republic of Iran</th>
<th data-quarto-table-cell-role="th">Ireland</th>
<th data-quarto-table-cell-role="th">Israel</th>
<th data-quarto-table-cell-role="th">Italy</th>
<th data-quarto-table-cell-role="th">Jamaica</th>
<th data-quarto-table-cell-role="th">Japan</th>
<th data-quarto-table-cell-role="th">Jordan</th>
<th data-quarto-table-cell-role="th">Kazakhstan</th>
<th data-quarto-table-cell-role="th">Korea</th>
<th data-quarto-table-cell-role="th">Kosovo</th>
<th data-quarto-table-cell-role="th">Kuwait</th>
<th data-quarto-table-cell-role="th">Kyrgyz Republic</th>
<th data-quarto-table-cell-role="th">Latvia</th>
<th data-quarto-table-cell-role="th">Lithuania</th>
<th data-quarto-table-cell-role="th">Luxembourg</th>
<th data-quarto-table-cell-role="th">Macao SAR</th>
<th data-quarto-table-cell-role="th">Malaysia</th>
<th data-quarto-table-cell-role="th">Malta</th>
<th data-quarto-table-cell-role="th">Mauritius</th>
<th data-quarto-table-cell-role="th">Mexico</th>
<th data-quarto-table-cell-role="th">Moldova</th>
<th data-quarto-table-cell-role="th">Mongolia</th>
<th data-quarto-table-cell-role="th">Morocco</th>
<th data-quarto-table-cell-role="th">Myanmar</th>
<th data-quarto-table-cell-role="th">Netherlands</th>
<th data-quarto-table-cell-role="th">New Zealand</th>
<th data-quarto-table-cell-role="th">Nicaragua</th>
<th data-quarto-table-cell-role="th">Nigeria</th>
<th data-quarto-table-cell-role="th">North Macedonia</th>
<th data-quarto-table-cell-role="th">Norway</th>
<th data-quarto-table-cell-role="th">Pakistan</th>
<th data-quarto-table-cell-role="th">Panama</th>
<th data-quarto-table-cell-role="th">Paraguay</th>
<th data-quarto-table-cell-role="th">Peru</th>
<th data-quarto-table-cell-role="th">Philippines</th>
<th data-quarto-table-cell-role="th">Poland</th>
<th data-quarto-table-cell-role="th">Portugal</th>
<th data-quarto-table-cell-role="th">Puerto Rico</th>
<th data-quarto-table-cell-role="th">Romania</th>
<th data-quarto-table-cell-role="th">Russia</th>
<th data-quarto-table-cell-role="th">San Marino</th>
<th data-quarto-table-cell-role="th">São Tomé and Príncipe</th>
<th data-quarto-table-cell-role="th">Saudi Arabia</th>
<th data-quarto-table-cell-role="th">Serbia</th>
<th data-quarto-table-cell-role="th">Seychelles</th>
<th data-quarto-table-cell-role="th">Singapore</th>
<th data-quarto-table-cell-role="th">Slovak Republic</th>
<th data-quarto-table-cell-role="th">Slovenia</th>
<th data-quarto-table-cell-role="th">South Africa</th>
<th data-quarto-table-cell-role="th">Spain</th>
<th data-quarto-table-cell-role="th">Sri Lanka</th>
<th data-quarto-table-cell-role="th">Sudan</th>
<th data-quarto-table-cell-role="th">Suriname</th>
<th data-quarto-table-cell-role="th">Sweden</th>
<th data-quarto-table-cell-role="th">Switzerland</th>
<th data-quarto-table-cell-role="th">Syria</th>
<th data-quarto-table-cell-role="th">Taiwan Province of China</th>
<th data-quarto-table-cell-role="th">Tajikistan</th>
<th data-quarto-table-cell-role="th">Thailand</th>
<th data-quarto-table-cell-role="th">Trinidad and Tobago</th>
<th data-quarto-table-cell-role="th">Tunisia</th>
<th data-quarto-table-cell-role="th">Turkey</th>
<th data-quarto-table-cell-role="th">Ukraine</th>
<th data-quarto-table-cell-role="th">United Kingdom</th>
<th data-quarto-table-cell-role="th">United States</th>
<th data-quarto-table-cell-role="th">Uruguay</th>
<th data-quarto-table-cell-role="th">Venezuela</th>
<th data-quarto-table-cell-role="th">Vietnam</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2010</td>
<td>14.0</td>
<td>9.961</td>
<td>7.750</td>
<td>19.000</td>
<td>10.600</td>
<td>5.208</td>
<td>4.842</td>
<td>5.631</td>
<td>15.082</td>
<td>3.600</td>
<td>10.250</td>
<td>0.827</td>
<td>8.325</td>
<td>13.513</td>
<td>3.300</td>
<td>4.375</td>
<td>27.202</td>
<td>8.500</td>
<td>NaN</td>
<td>10.306</td>
<td>10.7</td>
<td>8.000</td>
<td>8.305</td>
<td>4.14</td>
<td>11.775</td>
<td>9.213</td>
<td>17.167</td>
<td>6.275</td>
<td>7.284</td>
<td>7.742</td>
<td>6.520</td>
<td>5.02</td>
<td>9.210</td>
<td>7.000</td>
<td>16.707</td>
<td>7.100</td>
<td>8.500</td>
<td>9.250</td>
<td>17.4</td>
<td>6.933</td>
<td>12.725</td>
<td>4.119</td>
<td>4.322</td>
<td>11.171</td>
<td>7.558</td>
<td>7.14</td>
<td>13.500</td>
<td>14.592</td>
<td>8.250</td>
<td>8.350</td>
<td>12.375</td>
<td>5.058</td>
<td>12.475</td>
<td>5.766</td>
<td>3.708</td>
<td>NaN</td>
<td>2.072</td>
<td>8.644</td>
<td>19.467</td>
<td>17.814</td>
<td>5.800</td>
<td>2.825</td>
<td>3.300</td>
<td>6.842</td>
<td>7.8</td>
<td>5.273</td>
<td>7.400</td>
<td>9.90</td>
<td>9.063</td>
<td>4.0</td>
<td>4.995</td>
<td>6.150</td>
<td>7.829</td>
<td>5.092</td>
<td>32.050</td>
<td>3.794</td>
<td>5.550</td>
<td>6.516</td>
<td>5.674</td>
<td>7.880</td>
<td>7.325</td>
<td>9.635</td>
<td>10.770</td>
<td>16.4</td>
<td>6.971</td>
<td>7.358</td>
<td>4.945</td>
<td>14.628</td>
<td>5.548</td>
<td>20.000</td>
<td>4.605</td>
<td>2.175</td>
<td>14.500</td>
<td>7.300</td>
<td>24.875</td>
<td>19.858</td>
<td>5.0</td>
<td>13.733</td>
<td>7.2</td>
<td>8.575</td>
<td>3.516</td>
<td>8.613</td>
<td>5.21</td>
<td>2.200</td>
<td>1.050</td>
<td>5.925</td>
<td>13.048</td>
<td>11.127</td>
<td>8.097</td>
<td>7.900</td>
<td>9.608</td>
<td>7.025</td>
<td>8.508</td>
<td>4.290</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2011</td>
<td>14.0</td>
<td>9.971</td>
<td>7.150</td>
<td>18.400</td>
<td>8.879</td>
<td>5.083</td>
<td>4.592</td>
<td>5.424</td>
<td>15.889</td>
<td>4.000</td>
<td>11.150</td>
<td>0.668</td>
<td>7.150</td>
<td>13.972</td>
<td>3.100</td>
<td>3.837</td>
<td>27.600</td>
<td>7.800</td>
<td>9.300</td>
<td>11.350</td>
<td>12.2</td>
<td>7.500</td>
<td>7.300</td>
<td>4.09</td>
<td>10.808</td>
<td>10.492</td>
<td>17.367</td>
<td>7.850</td>
<td>6.716</td>
<td>7.750</td>
<td>7.613</td>
<td>4.21</td>
<td>10.379</td>
<td>6.600</td>
<td>12.325</td>
<td>7.100</td>
<td>7.775</td>
<td>9.200</td>
<td>17.3</td>
<td>5.858</td>
<td>17.850</td>
<td>4.475</td>
<td>3.408</td>
<td>11.028</td>
<td>7.050</td>
<td>6.56</td>
<td>12.300</td>
<td>15.417</td>
<td>7.050</td>
<td>8.392</td>
<td>12.400</td>
<td>4.583</td>
<td>12.875</td>
<td>5.391</td>
<td>3.408</td>
<td>NaN</td>
<td>2.078</td>
<td>8.530</td>
<td>16.208</td>
<td>15.390</td>
<td>5.667</td>
<td>2.575</td>
<td>3.050</td>
<td>6.392</td>
<td>7.9</td>
<td>5.172</td>
<td>6.700</td>
<td>7.70</td>
<td>8.912</td>
<td>4.0</td>
<td>4.984</td>
<td>5.975</td>
<td>5.930</td>
<td>5.957</td>
<td>31.375</td>
<td>3.364</td>
<td>5.950</td>
<td>4.481</td>
<td>5.621</td>
<td>7.727</td>
<td>7.025</td>
<td>9.632</td>
<td>12.677</td>
<td>15.9</td>
<td>7.146</td>
<td>6.508</td>
<td>5.469</td>
<td>14.127</td>
<td>5.772</td>
<td>23.600</td>
<td>4.130</td>
<td>2.025</td>
<td>13.692</td>
<td>8.208</td>
<td>24.800</td>
<td>21.390</td>
<td>4.1</td>
<td>12.033</td>
<td>7.5</td>
<td>7.767</td>
<td>2.843</td>
<td>NaN</td>
<td>4.39</td>
<td>2.492</td>
<td>0.658</td>
<td>5.067</td>
<td>18.889</td>
<td>9.096</td>
<td>7.856</td>
<td>8.100</td>
<td>8.933</td>
<td>6.342</td>
<td>8.204</td>
<td>4.513</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2012</td>
<td>13.4</td>
<td>10.969</td>
<td>7.200</td>
<td>17.300</td>
<td>9.607</td>
<td>5.225</td>
<td>4.917</td>
<td>5.185</td>
<td>14.367</td>
<td>3.700</td>
<td>11.500</td>
<td>0.614</td>
<td>7.550</td>
<td>14.431</td>
<td>2.100</td>
<td>3.229</td>
<td>28.000</td>
<td>7.400</td>
<td>8.500</td>
<td>12.379</td>
<td>16.8</td>
<td>7.325</td>
<td>6.595</td>
<td>4.09</td>
<td>10.367</td>
<td>9.849</td>
<td>18.600</td>
<td>11.800</td>
<td>6.959</td>
<td>7.800</td>
<td>8.407</td>
<td>4.12</td>
<td>12.373</td>
<td>6.100</td>
<td>10.023</td>
<td>6.800</td>
<td>7.683</td>
<td>9.758</td>
<td>17.2</td>
<td>5.367</td>
<td>24.425</td>
<td>3.754</td>
<td>3.303</td>
<td>11.003</td>
<td>6.025</td>
<td>6.14</td>
<td>12.100</td>
<td>15.500</td>
<td>6.900</td>
<td>10.683</td>
<td>13.925</td>
<td>4.325</td>
<td>12.150</td>
<td>5.286</td>
<td>3.225</td>
<td>30.9</td>
<td>1.986</td>
<td>8.427</td>
<td>15.048</td>
<td>13.366</td>
<td>6.096</td>
<td>2.000</td>
<td>3.025</td>
<td>6.200</td>
<td>8.1</td>
<td>4.891</td>
<td>5.600</td>
<td>8.20</td>
<td>8.988</td>
<td>4.0</td>
<td>5.832</td>
<td>6.400</td>
<td>5.912</td>
<td>10.566</td>
<td>31.000</td>
<td>3.294</td>
<td>5.950</td>
<td>4.050</td>
<td>4.573</td>
<td>6.798</td>
<td>6.975</td>
<td>10.088</td>
<td>15.526</td>
<td>14.5</td>
<td>6.794</td>
<td>5.450</td>
<td>6.909</td>
<td>13.590</td>
<td>5.524</td>
<td>24.600</td>
<td>3.705</td>
<td>1.950</td>
<td>13.967</td>
<td>8.900</td>
<td>24.875</td>
<td>24.788</td>
<td>4.0</td>
<td>14.800</td>
<td>8.1</td>
<td>7.967</td>
<td>2.905</td>
<td>NaN</td>
<td>4.24</td>
<td>NaN</td>
<td>0.675</td>
<td>4.950</td>
<td>16.723</td>
<td>8.432</td>
<td>7.529</td>
<td>7.975</td>
<td>8.075</td>
<td>6.325</td>
<td>7.823</td>
<td>2.740</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013</td>
<td>15.9</td>
<td>9.829</td>
<td>7.075</td>
<td>16.200</td>
<td>7.599</td>
<td>5.658</td>
<td>5.333</td>
<td>4.973</td>
<td>15.782</td>
<td>4.392</td>
<td>11.625</td>
<td>0.508</td>
<td>8.450</td>
<td>11.680</td>
<td>2.900</td>
<td>4.000</td>
<td>27.500</td>
<td>7.200</td>
<td>7.700</td>
<td>13.038</td>
<td>16.4</td>
<td>7.100</td>
<td>6.082</td>
<td>4.05</td>
<td>9.658</td>
<td>8.311</td>
<td>19.808</td>
<td>15.850</td>
<td>6.942</td>
<td>7.383</td>
<td>9.196</td>
<td>4.15</td>
<td>12.992</td>
<td>5.900</td>
<td>8.628</td>
<td>6.367</td>
<td>8.192</td>
<td>10.300</td>
<td>16.9</td>
<td>5.233</td>
<td>27.475</td>
<td>4.096</td>
<td>3.376</td>
<td>10.178</td>
<td>5.392</td>
<td>6.25</td>
<td>10.400</td>
<td>13.775</td>
<td>6.250</td>
<td>12.133</td>
<td>15.275</td>
<td>4.008</td>
<td>12.600</td>
<td>5.206</td>
<td>3.100</td>
<td>30.0</td>
<td>1.902</td>
<td>8.332</td>
<td>11.868</td>
<td>11.770</td>
<td>6.821</td>
<td>1.850</td>
<td>3.100</td>
<td>6.108</td>
<td>8.0</td>
<td>4.901</td>
<td>5.100</td>
<td>7.90</td>
<td>9.235</td>
<td>4.0</td>
<td>7.257</td>
<td>5.750</td>
<td>5.746</td>
<td>9.955</td>
<td>29.000</td>
<td>3.773</td>
<td>5.975</td>
<td>4.098</td>
<td>5.021</td>
<td>5.945</td>
<td>7.075</td>
<td>10.328</td>
<td>16.183</td>
<td>14.3</td>
<td>7.096</td>
<td>5.500</td>
<td>8.079</td>
<td>13.525</td>
<td>5.568</td>
<td>23.000</td>
<td>3.325</td>
<td>1.900</td>
<td>14.242</td>
<td>10.150</td>
<td>24.725</td>
<td>26.095</td>
<td>4.4</td>
<td>15.200</td>
<td>6.6</td>
<td>8.000</td>
<td>3.158</td>
<td>NaN</td>
<td>4.18</td>
<td>NaN</td>
<td>0.700</td>
<td>3.675</td>
<td>15.330</td>
<td>9.041</td>
<td>7.172</td>
<td>7.575</td>
<td>7.358</td>
<td>6.500</td>
<td>7.470</td>
<td>2.750</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2014</td>
<td>17.5</td>
<td>10.600</td>
<td>7.250</td>
<td>17.600</td>
<td>7.451</td>
<td>6.058</td>
<td>5.608</td>
<td>4.913</td>
<td>14.636</td>
<td>3.767</td>
<td>12.275</td>
<td>0.488</td>
<td>8.550</td>
<td>11.056</td>
<td>2.600</td>
<td>4.000</td>
<td>27.500</td>
<td>6.783</td>
<td>6.900</td>
<td>11.524</td>
<td>15.8</td>
<td>6.925</td>
<td>6.495</td>
<td>4.09</td>
<td>9.092</td>
<td>9.658</td>
<td>19.275</td>
<td>16.075</td>
<td>6.097</td>
<td>6.867</td>
<td>8.538</td>
<td>3.80</td>
<td>13.365</td>
<td>7.000</td>
<td>7.351</td>
<td>6.200</td>
<td>8.658</td>
<td>10.283</td>
<td>14.6</td>
<td>5.008</td>
<td>26.500</td>
<td>5.488</td>
<td>3.262</td>
<td>7.726</td>
<td>4.958</td>
<td>5.94</td>
<td>10.600</td>
<td>11.900</td>
<td>5.900</td>
<td>12.608</td>
<td>13.750</td>
<td>3.583</td>
<td>11.875</td>
<td>5.042</td>
<td>3.492</td>
<td>35.3</td>
<td>1.722</td>
<td>8.046</td>
<td>10.847</td>
<td>10.699</td>
<td>7.075</td>
<td>1.700</td>
<td>2.875</td>
<td>5.733</td>
<td>7.8</td>
<td>4.824</td>
<td>3.900</td>
<td>7.90</td>
<td>9.879</td>
<td>4.0</td>
<td>7.434</td>
<td>5.350</td>
<td>6.557</td>
<td>7.841</td>
<td>28.025</td>
<td>3.617</td>
<td>6.000</td>
<td>4.823</td>
<td>6.038</td>
<td>5.938</td>
<td>6.800</td>
<td>8.988</td>
<td>13.894</td>
<td>13.9</td>
<td>6.802</td>
<td>5.158</td>
<td>8.739</td>
<td>13.472</td>
<td>5.721</td>
<td>19.894</td>
<td>2.983</td>
<td>1.950</td>
<td>13.200</td>
<td>9.742</td>
<td>25.100</td>
<td>24.443</td>
<td>4.3</td>
<td>19.800</td>
<td>5.5</td>
<td>7.933</td>
<td>3.044</td>
<td>NaN</td>
<td>3.96</td>
<td>NaN</td>
<td>0.800</td>
<td>3.300</td>
<td>14.959</td>
<td>9.915</td>
<td>9.275</td>
<td>6.200</td>
<td>6.158</td>
<td>6.625</td>
<td>6.700</td>
<td>2.100</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2015</td>
<td>17.1</td>
<td>11.214</td>
<td>6.533</td>
<td>18.500</td>
<td>7.298</td>
<td>6.050</td>
<td>5.742</td>
<td>4.958</td>
<td>13.379</td>
<td>3.358</td>
<td>11.300</td>
<td>0.912</td>
<td>8.492</td>
<td>10.114</td>
<td>2.500</td>
<td>4.000</td>
<td>27.700</td>
<td>8.283</td>
<td>7.700</td>
<td>9.233</td>
<td>12.4</td>
<td>6.900</td>
<td>6.328</td>
<td>4.05</td>
<td>8.917</td>
<td>9.604</td>
<td>17.067</td>
<td>14.900</td>
<td>5.040</td>
<td>6.283</td>
<td>7.328</td>
<td>4.77</td>
<td>12.859</td>
<td>7.000</td>
<td>6.185</td>
<td>5.500</td>
<td>9.375</td>
<td>10.367</td>
<td>14.1</td>
<td>4.625</td>
<td>24.900</td>
<td>4.592</td>
<td>3.307</td>
<td>6.814</td>
<td>3.992</td>
<td>6.18</td>
<td>11.000</td>
<td>9.950</td>
<td>5.325</td>
<td>11.917</td>
<td>13.500</td>
<td>3.375</td>
<td>13.075</td>
<td>5.110</td>
<td>3.592</td>
<td>32.9</td>
<td>1.322</td>
<td>7.554</td>
<td>9.875</td>
<td>9.119</td>
<td>6.630</td>
<td>1.825</td>
<td>3.150</td>
<td>5.392</td>
<td>7.9</td>
<td>4.349</td>
<td>5.016</td>
<td>7.50</td>
<td>9.707</td>
<td>4.0</td>
<td>6.891</td>
<td>5.325</td>
<td>5.909</td>
<td>9.000</td>
<td>26.050</td>
<td>4.531</td>
<td>5.900</td>
<td>5.052</td>
<td>5.351</td>
<td>6.490</td>
<td>6.275</td>
<td>7.499</td>
<td>12.444</td>
<td>12.0</td>
<td>6.812</td>
<td>5.575</td>
<td>9.182</td>
<td>13.433</td>
<td>5.591</td>
<td>18.231</td>
<td>2.684</td>
<td>1.900</td>
<td>11.483</td>
<td>8.983</td>
<td>25.350</td>
<td>22.058</td>
<td>4.7</td>
<td>21.600</td>
<td>7.0</td>
<td>7.400</td>
<td>3.178</td>
<td>NaN</td>
<td>3.78</td>
<td>NaN</td>
<td>0.900</td>
<td>3.425</td>
<td>15.390</td>
<td>10.279</td>
<td>9.143</td>
<td>5.375</td>
<td>5.275</td>
<td>7.533</td>
<td>7.400</td>
<td>2.330</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2016</td>
<td>15.2</td>
<td>10.498</td>
<td>8.467</td>
<td>18.000</td>
<td>7.694</td>
<td>5.700</td>
<td>6.033</td>
<td>5.043</td>
<td>12.150</td>
<td>3.700</td>
<td>9.650</td>
<td>1.017</td>
<td>7.842</td>
<td>9.500</td>
<td>2.100</td>
<td>3.463</td>
<td>25.400</td>
<td>11.258</td>
<td>8.500</td>
<td>7.666</td>
<td>15.0</td>
<td>6.992</td>
<td>6.685</td>
<td>4.02</td>
<td>9.217</td>
<td>9.541</td>
<td>14.958</td>
<td>12.950</td>
<td>3.946</td>
<td>6.017</td>
<td>7.080</td>
<td>5.21</td>
<td>12.705</td>
<td>7.100</td>
<td>6.758</td>
<td>5.500</td>
<td>8.792</td>
<td>10.042</td>
<td>14.0</td>
<td>4.158</td>
<td>23.550</td>
<td>4.668</td>
<td>3.387</td>
<td>5.115</td>
<td>3.008</td>
<td>5.61</td>
<td>12.425</td>
<td>8.392</td>
<td>4.800</td>
<td>11.667</td>
<td>13.200</td>
<td>3.108</td>
<td>15.275</td>
<td>4.951</td>
<td>3.675</td>
<td>27.5</td>
<td>1.248</td>
<td>7.211</td>
<td>9.642</td>
<td>7.861</td>
<td>6.250</td>
<td>1.900</td>
<td>3.450</td>
<td>4.700</td>
<td>7.3</td>
<td>3.883</td>
<td>4.226</td>
<td>10.00</td>
<td>9.400</td>
<td>4.0</td>
<td>6.024</td>
<td>5.100</td>
<td>4.481</td>
<td>13.375</td>
<td>23.750</td>
<td>4.740</td>
<td>5.958</td>
<td>5.494</td>
<td>5.998</td>
<td>6.742</td>
<td>5.475</td>
<td>6.161</td>
<td>11.066</td>
<td>11.8</td>
<td>5.902</td>
<td>5.525</td>
<td>8.597</td>
<td>13.416</td>
<td>5.600</td>
<td>15.917</td>
<td>2.684</td>
<td>2.075</td>
<td>9.692</td>
<td>8.008</td>
<td>26.725</td>
<td>19.635</td>
<td>4.4</td>
<td>20.600</td>
<td>10.0</td>
<td>6.950</td>
<td>3.323</td>
<td>NaN</td>
<td>3.92</td>
<td>NaN</td>
<td>1.000</td>
<td>3.950</td>
<td>15.544</td>
<td>10.907</td>
<td>9.450</td>
<td>4.875</td>
<td>4.875</td>
<td>7.867</td>
<td>20.863</td>
<td>2.330</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2017</td>
<td>13.7</td>
<td>11.709</td>
<td>8.350</td>
<td>17.800</td>
<td>8.923</td>
<td>5.575</td>
<td>5.517</td>
<td>5.039</td>
<td>10.100</td>
<td>3.636</td>
<td>9.950</td>
<td>0.768</td>
<td>7.108</td>
<td>9.300</td>
<td>3.138</td>
<td>3.630</td>
<td>20.500</td>
<td>12.767</td>
<td>9.300</td>
<td>6.230</td>
<td>12.2</td>
<td>6.342</td>
<td>6.965</td>
<td>3.90</td>
<td>9.400</td>
<td>9.293</td>
<td>12.433</td>
<td>11.050</td>
<td>2.890</td>
<td>5.817</td>
<td>5.509</td>
<td>4.62</td>
<td>12.245</td>
<td>7.049</td>
<td>5.763</td>
<td>4.500</td>
<td>8.575</td>
<td>9.425</td>
<td>13.9</td>
<td>3.758</td>
<td>21.450</td>
<td>4.048</td>
<td>3.119</td>
<td>4.156</td>
<td>2.825</td>
<td>5.50</td>
<td>12.075</td>
<td>6.733</td>
<td>4.275</td>
<td>11.267</td>
<td>11.650</td>
<td>2.825</td>
<td>18.300</td>
<td>4.900</td>
<td>3.683</td>
<td>30.5</td>
<td>1.280</td>
<td>6.891</td>
<td>8.715</td>
<td>7.073</td>
<td>5.840</td>
<td>1.975</td>
<td>3.425</td>
<td>4.000</td>
<td>7.1</td>
<td>3.421</td>
<td>4.130</td>
<td>8.80</td>
<td>10.200</td>
<td>4.0</td>
<td>4.854</td>
<td>4.725</td>
<td>3.670</td>
<td>17.462</td>
<td>22.375</td>
<td>4.216</td>
<td>6.018</td>
<td>6.130</td>
<td>6.086</td>
<td>6.876</td>
<td>5.725</td>
<td>4.888</td>
<td>8.867</td>
<td>10.8</td>
<td>4.927</td>
<td>5.200</td>
<td>8.095</td>
<td>13.472</td>
<td>6.000</td>
<td>14.051</td>
<td>3.000</td>
<td>2.175</td>
<td>8.125</td>
<td>6.558</td>
<td>27.450</td>
<td>17.225</td>
<td>4.2</td>
<td>19.600</td>
<td>7.0</td>
<td>6.683</td>
<td>3.088</td>
<td>NaN</td>
<td>3.76</td>
<td>NaN</td>
<td>1.200</td>
<td>4.800</td>
<td>15.513</td>
<td>10.904</td>
<td>9.650</td>
<td>4.425</td>
<td>4.342</td>
<td>7.925</td>
<td>27.886</td>
<td>2.210</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2018</td>
<td>12.3</td>
<td>11.731</td>
<td>9.200</td>
<td>20.400</td>
<td>7.283</td>
<td>5.292</td>
<td>4.883</td>
<td>4.994</td>
<td>10.350</td>
<td>3.894</td>
<td>10.050</td>
<td>0.428</td>
<td>5.958</td>
<td>9.377</td>
<td>NaN</td>
<td>3.493</td>
<td>18.400</td>
<td>12.258</td>
<td>9.316</td>
<td>5.200</td>
<td>12.2</td>
<td>5.833</td>
<td>7.377</td>
<td>3.80</td>
<td>9.700</td>
<td>11.951</td>
<td>9.858</td>
<td>8.350</td>
<td>2.243</td>
<td>5.083</td>
<td>5.656</td>
<td>3.69</td>
<td>10.932</td>
<td>6.347</td>
<td>5.371</td>
<td>4.500</td>
<td>7.417</td>
<td>9.025</td>
<td>12.7</td>
<td>3.400</td>
<td>19.300</td>
<td>4.076</td>
<td>2.816</td>
<td>3.708</td>
<td>2.742</td>
<td>5.34</td>
<td>12.025</td>
<td>5.750</td>
<td>4.000</td>
<td>10.625</td>
<td>9.125</td>
<td>2.442</td>
<td>18.600</td>
<td>4.854</td>
<td>3.833</td>
<td>29.6</td>
<td>1.087</td>
<td>6.605</td>
<td>7.415</td>
<td>6.146</td>
<td>5.100</td>
<td>1.800</td>
<td>3.325</td>
<td>3.667</td>
<td>6.9</td>
<td>3.330</td>
<td>3.022</td>
<td>7.80</td>
<td>9.800</td>
<td>4.0</td>
<td>3.839</td>
<td>4.275</td>
<td>5.500</td>
<td>22.562</td>
<td>20.725</td>
<td>3.854</td>
<td>5.550</td>
<td>5.956</td>
<td>6.236</td>
<td>6.700</td>
<td>5.325</td>
<td>3.846</td>
<td>6.994</td>
<td>9.2</td>
<td>4.187</td>
<td>4.800</td>
<td>8.009</td>
<td>NaN</td>
<td>6.000</td>
<td>13.273</td>
<td>3.000</td>
<td>2.100</td>
<td>6.550</td>
<td>5.125</td>
<td>27.125</td>
<td>15.255</td>
<td>4.4</td>
<td>19.500</td>
<td>9.0</td>
<td>6.325</td>
<td>2.547</td>
<td>NaN</td>
<td>3.71</td>
<td>NaN</td>
<td>1.100</td>
<td>4.880</td>
<td>15.530</td>
<td>10.955</td>
<td>9.000</td>
<td>4.075</td>
<td>3.892</td>
<td>8.367</td>
<td>35.543</td>
<td>2.210</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2019</td>
<td>12.0</td>
<td>11.383</td>
<td>9.825</td>
<td>17.707</td>
<td>7.544</td>
<td>5.183</td>
<td>4.517</td>
<td>4.971</td>
<td>13.381</td>
<td>4.003</td>
<td>10.357</td>
<td>0.308</td>
<td>5.358</td>
<td>9.100</td>
<td>NaN</td>
<td>4.000</td>
<td>15.700</td>
<td>11.925</td>
<td>9.316</td>
<td>4.200</td>
<td>8.5</td>
<td>5.667</td>
<td>7.319</td>
<td>3.62</td>
<td>10.500</td>
<td>12.417</td>
<td>7.800</td>
<td>7.075</td>
<td>2.001</td>
<td>5.033</td>
<td>6.167</td>
<td>3.84</td>
<td>8.612</td>
<td>6.733</td>
<td>4.435</td>
<td>4.500</td>
<td>6.717</td>
<td>8.450</td>
<td>11.6</td>
<td>3.158</td>
<td>17.300</td>
<td>4.109</td>
<td>2.955</td>
<td>3.418</td>
<td>3.550</td>
<td>5.28</td>
<td>13.580</td>
<td>4.992</td>
<td>3.800</td>
<td>9.950</td>
<td>NaN</td>
<td>2.358</td>
<td>19.075</td>
<td>4.779</td>
<td>3.783</td>
<td>25.7</td>
<td>NaN</td>
<td>6.605</td>
<td>6.318</td>
<td>6.300</td>
<td>5.400</td>
<td>1.725</td>
<td>3.275</td>
<td>3.425</td>
<td>6.7</td>
<td>3.268</td>
<td>3.022</td>
<td>7.02</td>
<td>9.200</td>
<td>4.0</td>
<td>3.390</td>
<td>4.050</td>
<td>6.127</td>
<td>NaN</td>
<td>17.250</td>
<td>3.728</td>
<td>4.080</td>
<td>7.070</td>
<td>7.175</td>
<td>6.600</td>
<td>5.075</td>
<td>3.279</td>
<td>6.463</td>
<td>8.5</td>
<td>3.912</td>
<td>4.600</td>
<td>7.660</td>
<td>NaN</td>
<td>NaN</td>
<td>10.909</td>
<td>3.000</td>
<td>2.250</td>
<td>5.775</td>
<td>4.600</td>
<td>28.700</td>
<td>14.105</td>
<td>4.9</td>
<td>22.100</td>
<td>8.6</td>
<td>6.767</td>
<td>2.306</td>
<td>NaN</td>
<td>3.80</td>
<td>NaN</td>
<td>1.100</td>
<td>4.960</td>
<td>14.889</td>
<td>13.709</td>
<td>8.531</td>
<td>3.825</td>
<td>3.667</td>
<td>9.420</td>
<td>NaN</td>
<td>2.210</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p><strong>Q3)</strong> Using an appropriate graph, show the comparison of how SARS (2003), H1N1 (2010) and COVID-19 (2020) have affected the “<i>Gross domestic product, constant prices</i>” (<code>Subject Descriptor</code>) for countries around South East Asia (i.e., Brunei Darussalam, Cambodia, Indonesia, Lao P.D.R., Malaysia, Myanmar, Philippines, Singapore, Thailand, Timor-Leste, Vietnam).</p>
<ul>
<li>Your graph should be properly annotated and numerical values should be formatted to 2 decimal places.</li>
<li>A properly labeled figure of size (15 by 10) must be displayed as the end result at the last code cell of this question.</li>
<li>Save the figure with a dpi of <code>200</code> and name it <code>imf_plot02.png</code> (This file is to be submitted).</li>
</ul>
<div id="cell-64" class="cell" data-execution_count="190">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>df.info(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1552 entries, 0 to 1551
Data columns (total 44 columns):
 #   Column              Non-Null Count  Dtype  
---  ------              --------------  -----  
 0   Country             1552 non-null   object 
 1   Subject Descriptor  1552 non-null   object 
 2   1980                827 non-null    object 
 3   1981                887 non-null    object 
 4   1982                899 non-null    object 
 5   1983                909 non-null    float64
 6   1984                915 non-null    float64
 7   1985                929 non-null    float64
 8   1986                937 non-null    object 
 9   1987                942 non-null    float64
 10  1988                955 non-null    float64
 11  1989                965 non-null    float64
 12  1990                1021 non-null   object 
 13  1991                1064 non-null   object 
 14  1992                1113 non-null   float64
 15  1993                1183 non-null   float64
 16  1994                1202 non-null   float64
 17  1995                1245 non-null   float64
 18  1996                1272 non-null   float64
 19  1997                1293 non-null   float64
 20  1998                1317 non-null   float64
 21  1999                1333 non-null   float64
 22  2000                1372 non-null   float64
 23  2001                1403 non-null   float64
 24  2002                1414 non-null   float64
 25  2003                1422 non-null   float64
 26  2004                1431 non-null   float64
 27  2005                1438 non-null   float64
 28  2006                1438 non-null   float64
 29  2007                1440 non-null   float64
 30  2008                1442 non-null   float64
 31  2009                1444 non-null   float64
 32  2010                1445 non-null   float64
 33  2011                1442 non-null   float64
 34  2012                1448 non-null   float64
 35  2013                1450 non-null   float64
 36  2014                1456 non-null   float64
 37  2015                1455 non-null   float64
 38  2016                1455 non-null   float64
 39  2017                1458 non-null   float64
 40  2018                1456 non-null   float64
 41  2019                1451 non-null   float64
 42  2020                1439 non-null   object 
 43  2021                1432 non-null   float64
dtypes: float64(35), object(9)
memory usage: 533.6+ KB</code></pre>
</div>
</div>
<div id="cell-65" class="cell" data-execution_count="191">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>South_East_Asia <span class="op">=</span> [</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    c.strip()</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> c <span class="kw">in</span> <span class="st">"Brunei Darussalam, Cambodia, Indonesia, Lao P.D.R., Malaysia, Myanmar, Philippines, Singapore, Thailand, Timor-Leste, Vietnam"</span>.split(</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">","</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>South_East_Asia</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="191">
<pre><code>['Brunei Darussalam',
 'Cambodia',
 'Indonesia',
 'Lao P.D.R.',
 'Malaysia',
 'Myanmar',
 'Philippines',
 'Singapore',
 'Thailand',
 'Timor-Leste',
 'Vietnam']</code></pre>
</div>
</div>
<div id="cell-66" class="cell" data-execution_count="192">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co">"Gross domestic product, constant prices"</span> <span class="kw">in</span> <span class="bu">list</span>(df[<span class="st">"Subject Descriptor"</span>].unique())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="192">
<pre><code>True</code></pre>
</div>
</div>
<div id="cell-67" class="cell" data-execution_count="193">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>targeted_years <span class="op">=</span> [<span class="st">"2003"</span>, <span class="st">"2010"</span>, <span class="st">"2020"</span>]</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>df[targeted_years]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="193">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">2003</th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2020</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>8.692</td>
<td>8.438</td>
<td>-3.007</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>20.852</td>
<td>44.323</td>
<td>74.792</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>4.398</td>
<td>5.431</td>
<td>-4.291</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>35.663</td>
<td>2.179</td>
<td>4.711</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>6.530</td>
<td>10.246</td>
<td>4.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1547</td>
<td>-8.565</td>
<td>3.045</td>
<td>319.036</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1548</td>
<td>NaN</td>
<td>3.217</td>
<td>154.297</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1549</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1550</td>
<td>NaN</td>
<td>0.619</td>
<td>-4.931</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1551</td>
<td>-0.720</td>
<td>-11.989</td>
<td>-1.914</td>
</tr>
</tbody>
</table>

<p>1552 rows × 3 columns</p>
</div>
</div>
</div>
</div>
<div id="cell-68" class="cell" data-execution_count="194">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>targeted_years <span class="op">=</span> [<span class="st">"2003"</span>, <span class="st">"2010"</span>, <span class="st">"2020"</span>]</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> df[df[<span class="st">"Subject Descriptor"</span>] <span class="op">==</span> <span class="st">"Gross domestic product, constant prices"</span>][</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Country"</span>, <span class="st">"Subject Descriptor"</span>] <span class="op">+</span> targeted_years</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-69" class="cell" data-execution_count="195">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>is_sea <span class="op">=</span> df1.Country.isin(South_East_Asia)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>df1[is_sea]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="195">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Subject Descriptor</th>
<th data-quarto-table-cell-role="th">2003</th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2020</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">192</td>
<td>Brunei Darussalam</td>
<td>Gross domestic product, constant prices</td>
<td>2.903</td>
<td>2.652</td>
<td>1.297</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">232</td>
<td>Cambodia</td>
<td>Gross domestic product, constant prices</td>
<td>8.506</td>
<td>5.963</td>
<td>-1.587</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">616</td>
<td>Indonesia</td>
<td>Gross domestic product, constant prices</td>
<td>4.780</td>
<td>6.378</td>
<td>0.499</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">744</td>
<td>Lao P.D.R.</td>
<td>Gross domestic product, constant prices</td>
<td>6.179</td>
<td>8.018</td>
<td>0.723</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">832</td>
<td>Malaysia</td>
<td>Gross domestic product, constant prices</td>
<td>5.789</td>
<td>7.528</td>
<td>-1.7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">944</td>
<td>Myanmar</td>
<td>Gross domestic product, constant prices</td>
<td>13.196</td>
<td>5.247</td>
<td>1.799</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1088</td>
<td>Philippines</td>
<td>Gross domestic product, constant prices</td>
<td>4.970</td>
<td>7.632</td>
<td>0.648</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1216</td>
<td>Singapore</td>
<td>Gross domestic product, constant prices</td>
<td>4.536</td>
<td>14.526</td>
<td>-3.47</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1376</td>
<td>Thailand</td>
<td>Gross domestic product, constant prices</td>
<td>7.189</td>
<td>7.513</td>
<td>-6.662</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1384</td>
<td>Timor-Leste</td>
<td>Gross domestic product, constant prices</td>
<td>-2.182</td>
<td>9.459</td>
<td>-3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1520</td>
<td>Vietnam</td>
<td>Gross domestic product, constant prices</td>
<td>7.341</td>
<td>6.423</td>
<td>2.7</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-70" class="cell" data-execution_count="196">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> df1[is_sea].set_index(<span class="st">"Country"</span>)[targeted_years]</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="196">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">2003</th>
<th data-quarto-table-cell-role="th">2010</th>
<th data-quarto-table-cell-role="th">2020</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Brunei Darussalam</td>
<td>2.903</td>
<td>2.652</td>
<td>1.297</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Cambodia</td>
<td>8.506</td>
<td>5.963</td>
<td>-1.587</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Indonesia</td>
<td>4.780</td>
<td>6.378</td>
<td>0.499</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Lao P.D.R.</td>
<td>6.179</td>
<td>8.018</td>
<td>0.723</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Malaysia</td>
<td>5.789</td>
<td>7.528</td>
<td>-1.7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Myanmar</td>
<td>13.196</td>
<td>5.247</td>
<td>1.799</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Philippines</td>
<td>4.970</td>
<td>7.632</td>
<td>0.648</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Singapore</td>
<td>4.536</td>
<td>14.526</td>
<td>-3.47</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Thailand</td>
<td>7.189</td>
<td>7.513</td>
<td>-6.662</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Timor-Leste</td>
<td>-2.182</td>
<td>9.459</td>
<td>-3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Vietnam</td>
<td>7.341</td>
<td>6.423</td>
<td>2.7</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-fig-GDP-impact" class="cell" data-execution_count="197">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>_, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">10</span>))</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>df2.plot.bar(ax<span class="op">=</span>ax)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> p <span class="kw">in</span> ax.patches:</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    offset <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span> <span class="cf">if</span> p.get_height() <span class="op">&lt;</span> <span class="dv">0</span> <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    ax.annotate(</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"</span><span class="sc">{</span>p<span class="sc">.</span>get_height()<span class="sc">:0.2f}</span><span class="ss">"</span>,</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>        (p.get_x() <span class="op">+</span> p.get_width() <span class="op">/</span> <span class="fl">2.0</span>, p.get_height() <span class="op">+</span> offset),</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>        ha<span class="op">=</span><span class="st">"center"</span>,</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>        va<span class="op">=</span><span class="st">"center"</span>,</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>        xytext<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">5</span>),</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>        textcoords<span class="op">=</span><span class="st">"offset points"</span>,</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"GDP"</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"SARS vs H1N1 vs COVID19 GDP Impact"</span>, fontsize<span class="op">=</span><span class="dv">25</span>)</span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>ax.legend(fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=-</span><span class="dv">45</span>)</span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">"imf_plot02.png"</span>, dpi<span class="op">=</span><span class="dv">200</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-gdp-impact" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-gdp-impact-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Advanced%20Python%20Practicum%202_files/figure-html/fig-gdp-impact-output-1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gdp-impact-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: SARS vs H1N1 vs COVID19 GDP Impact
</figcaption>
</figure>
</div>
</div>
</div>
<hr>
<section id="airbnb-open-data---new-york-city" class="level3">
<h3 class="anchored" data-anchor-id="airbnb-open-data---new-york-city">AirBnB Open Data - New York City</h3>
<p><strong>Q1)</strong> Load the data into memory using Pandas; perform a preliminary first clean of the data and return this data.</p>
<ul>
<li>Perform standard checks such as missing data (<code>NaN</code> or <code>None</code>), datatypes, etc.</li>
</ul>
<div id="cell-73" class="cell" data-execution_count="198">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-74" class="cell" data-execution_count="199">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">"display.max_columns"</span>, <span class="va">None</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-75" class="cell" data-execution_count="200">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"./datasets/AB_NYC_2019.csv"</span>)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="200">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">host_id</th>
<th data-quarto-table-cell-role="th">host_name</th>
<th data-quarto-table-cell-role="th">neighbourhood_group</th>
<th data-quarto-table-cell-role="th">neighbourhood</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">room_type</th>
<th data-quarto-table-cell-role="th">price</th>
<th data-quarto-table-cell-role="th">minimum_nights</th>
<th data-quarto-table-cell-role="th">number_of_reviews</th>
<th data-quarto-table-cell-role="th">last_review</th>
<th data-quarto-table-cell-role="th">reviews_per_month</th>
<th data-quarto-table-cell-role="th">calculated_host_listings_count</th>
<th data-quarto-table-cell-role="th">availability_365</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2539</td>
<td>Clean &amp; quiet apt home by the park</td>
<td>2787</td>
<td>John</td>
<td>Brooklyn</td>
<td>Kensington</td>
<td>40.64749</td>
<td>-73.97237</td>
<td>Private room</td>
<td>149</td>
<td>1</td>
<td>9</td>
<td>2018-10-19</td>
<td>0.21</td>
<td>6</td>
<td>365</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2595</td>
<td>Skylit Midtown Castle</td>
<td>2845</td>
<td>Jennifer</td>
<td>Manhattan</td>
<td>Midtown</td>
<td>40.75362</td>
<td>-73.98377</td>
<td>Entire home/apt</td>
<td>225</td>
<td>1</td>
<td>45</td>
<td>2019-05-21</td>
<td>0.38</td>
<td>2</td>
<td>355</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p><strong>Q2)</strong> Create a scatterplot based on the location (latitude and longitude values) from your dataset in Q1. This plot will represent the map of New York.</p>
<ul>
<li>A properly labeled figure of size (15 by 10) must be displayed as the end result at the last code cell of this question.</li>
<li>Save the figure with a dpi of <code>200</code> and name it <code>airbnb_plot01.png</code> (This file is to be submitted).</li>
</ul>
<div id="cell-77" class="cell" data-execution_count="201">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># optional to import map that overlay with longitute/lattitude</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-78" class="cell" data-execution_count="202">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>targeted_col <span class="op">=</span> [<span class="st">"latitude"</span>, <span class="st">"longitude"</span>, <span class="st">"neighbourhood"</span>, <span class="st">"neighbourhood_group"</span>]</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="co"># missing_col =</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (df[targeted_col].isna().<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">0</span>)).<span class="bu">sum</span>():</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Targeted attribute </span><span class="sc">{</span>targeted_col<span class="sc">}</span><span class="ss"> have missing value"</span>)</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Targeted attribute </span><span class="sc">{</span>targeted_col<span class="sc">}</span><span class="ss"> does not have missing value"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Targeted attribute ['latitude', 'longitude', 'neighbourhood', 'neighbourhood_group'] does not have missing value</code></pre>
</div>
</div>
<div id="cell-79" class="cell" data-execution_count="203">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if latitude/logitude types are numerical type required for plot</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>df[targeted_col].info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 48895 entries, 0 to 48894
Data columns (total 4 columns):
 #   Column               Non-Null Count  Dtype  
---  ------               --------------  -----  
 0   latitude             48895 non-null  float64
 1   longitude            48895 non-null  float64
 2   neighbourhood        48895 non-null  object 
 3   neighbourhood_group  48895 non-null  object 
dtypes: float64(2), object(2)
memory usage: 1.5+ MB</code></pre>
</div>
</div>
<div id="cell-80" class="cell" data-execution_count="204">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># scatterplot based on the location (latitude and longitude values) from your dataset in Q1. This plot will represent the map of New York.</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">10</span>))</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>airbnb_plot01 <span class="op">=</span> df.plot.scatter(x<span class="op">=</span><span class="st">"latitude"</span>, y<span class="op">=</span><span class="st">"longitude"</span>, ax<span class="op">=</span>ax, marker<span class="op">=</span><span class="st">"."</span>, s<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Location of AirBnB hosts in New York City"</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Longitude"</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">"Latitude"</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> os.path.exists(<span class="st">"airbnb_plot01.png"</span>):</span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>    os.remove(<span class="st">"airbnb_plot01.png"</span>)</span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> os.path.exists(<span class="st">"airbnb_plot01.png"</span>)</span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">"airbnb_plot01.png"</span>, dpi<span class="op">=</span><span class="dv">200</span>)</span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Todo: add landmark</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Advanced%20Python%20Practicum%202_files/figure-html/cell-58-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Availability 365: an indicator of the total number of days the listing is available for during the year (i.e.&nbsp;if all the available days are rented out, then the listing’s occupancy rate is 100%)</p>
<p><strong>Q3)</strong> A young family would like to rent an entire apartment, west of Brooklyn (Red Hook, Sunset Park, Cobble Hill, Carroll Gardens and Bay Ridge) for a maximum of 2 weeks (14 nights).</p>
<p>To help the young couple make an informed decision, decide on an appropriate graph, and construct <strong>a single figure of multiple subplots (3 by 2)</strong> to display the average cost of renting an <code>Entire home/apt</code> for a maximum of 2 weeks for each neighbourhood.</p>
<ul>
<li>Annotate the graphs with the average cost (integer value is permissible) of each stay.</li>
<li>A properly labeled figure of size (15 by 15) must be displayed as the end result at the last code cell of this question.</li>
<li>Save the figure with a dpi of <code>200</code> and name it <code>airbnb_plot02.png</code> (This file is to be submitted).</li>
</ul>
<!-- # Understand customer requirement

## west of Brooklyn

![image.png](Advanced Python Practicum 2_files/figure-html/cell-83-1-4adb8666-dbdc-4127-8bfb-ccedb20efad2.png) -->
<div id="cell-84" class="cell" data-execution_count="205">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># todo Justify is average price the best judgement?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-85" class="cell" data-execution_count="206">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data for next analysis</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"./datasets/AB_NYC_2019.csv"</span>)</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="206">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">host_id</th>
<th data-quarto-table-cell-role="th">host_name</th>
<th data-quarto-table-cell-role="th">neighbourhood_group</th>
<th data-quarto-table-cell-role="th">neighbourhood</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">room_type</th>
<th data-quarto-table-cell-role="th">price</th>
<th data-quarto-table-cell-role="th">minimum_nights</th>
<th data-quarto-table-cell-role="th">number_of_reviews</th>
<th data-quarto-table-cell-role="th">last_review</th>
<th data-quarto-table-cell-role="th">reviews_per_month</th>
<th data-quarto-table-cell-role="th">calculated_host_listings_count</th>
<th data-quarto-table-cell-role="th">availability_365</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2539</td>
<td>Clean &amp; quiet apt home by the park</td>
<td>2787</td>
<td>John</td>
<td>Brooklyn</td>
<td>Kensington</td>
<td>40.64749</td>
<td>-73.97237</td>
<td>Private room</td>
<td>149</td>
<td>1</td>
<td>9</td>
<td>2018-10-19</td>
<td>0.21</td>
<td>6</td>
<td>365</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2595</td>
<td>Skylit Midtown Castle</td>
<td>2845</td>
<td>Jennifer</td>
<td>Manhattan</td>
<td>Midtown</td>
<td>40.75362</td>
<td>-73.98377</td>
<td>Entire home/apt</td>
<td>225</td>
<td>1</td>
<td>45</td>
<td>2019-05-21</td>
<td>0.38</td>
<td>2</td>
<td>355</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-86" class="cell" data-execution_count="207">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>_, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">5</span>))</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>markers <span class="op">=</span> [<span class="st">"o"</span>, <span class="st">"s"</span>, <span class="st">"^"</span>, <span class="st">"D"</span>, <span class="st">"X"</span>][</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>    : <span class="bu">len</span>(df.neighbourhood_group.unique())</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>]  <span class="co"># Different marker types</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a><span class="co"># print(markers)</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>    df,</span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"latitude"</span>,</span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"longitude"</span>,</span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>    hue<span class="op">=</span><span class="st">"neighbourhood_group"</span>,</span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>    ax<span class="op">=</span>ax,</span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># palette="viridis",</span></span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>    markers<span class="op">=</span>markers,</span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a>    s<span class="op">=</span><span class="dv">20</span>,</span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>ax.set_title(</span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Location of the AirBnB hosts in the New York city according to neighbourhood"</span></span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.legend(fontsize="large")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="207">
<pre><code>Text(0.5, 1.0, 'Location of the AirBnB hosts in the New York city according to neighbourhood')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Advanced%20Python%20Practicum%202_files/figure-html/cell-61-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="check-any-missing-values-for-the-targed-columns" class="level1">
<h1>Check any missing values for the targed columns</h1>
<div id="cell-88" class="cell" data-execution_count="208">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>targeted_col <span class="op">=</span> [</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"latitude"</span>,</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"longitude"</span>,</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"neighbourhood"</span>,</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"room_type"</span>,</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"price"</span>,</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"minimum_nights"</span>,</span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># "neighbourhood_group",</span></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>targeted_col <span class="op">=</span> <span class="bu">list</span>(<span class="bu">set</span>(targeted_col))</span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>missing_value_col <span class="op">=</span> df[targeted_col].isna().<span class="bu">any</span>()</span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> missing_value_col.<span class="bu">sum</span>():</span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Targeted attributes </span><span class="sc">{</span>targeted_col<span class="sc">}</span><span class="ss"> have missing values"</span>)</span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Targeted attributes </span><span class="sc">{</span>targeted_col<span class="sc">}</span><span class="ss"> does not have missing values"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Targeted attributes ['neighbourhood', 'room_type', 'longitude', 'price', 'minimum_nights', 'latitude'] does not have missing values</code></pre>
</div>
</div>
<div id="cell-89" class="cell" data-execution_count="209">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[targeted_col]</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="co"># df.info()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="only-keep-rows-that-the-customer-are-interested" class="level2">
<h2 class="anchored" data-anchor-id="only-keep-rows-that-the-customer-are-interested">Only keep rows that the customer are interested</h2>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>desired units</th>
<th>dataframe filtering</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>to rent an entire apartment,</td>
<td>df.room_type == “Entire home/ap”</td>
</tr>
<tr class="even">
<td>west of Brooklyn (Red Hook, Sunset Park, Cobble Hill, Carroll Gardens and Bay Ridge)</td>
<td>df.neighbourhood.apply(lambda x: x in [“Red Hook, Sunset Park, Cobble Hill, Carroll Gardens, Bay Ridge”]</td>
</tr>
<tr class="odd">
<td>for a maximum of 2 weeks (14 nights).</td>
<td>df.minimum_nights.apply(lambda x: x&gt;=14</td>
</tr>
</tbody>
</table>
<div id="cell-91" class="cell" data-execution_count="210">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[targeted_col]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-92" class="cell" data-execution_count="211">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>target_room_type <span class="op">=</span> <span class="st">"Entire home/apt"</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="st">"room_type"</span> <span class="kw">in</span> df.columns:</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> df[df.room_type <span class="op">==</span> target_room_type].drop(columns<span class="op">=</span>[<span class="st">"room_type"</span>])</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 25409 entries, 1 to 48892
Data columns (total 5 columns):
 #   Column          Non-Null Count  Dtype  
---  ------          --------------  -----  
 0   neighbourhood   25409 non-null  object 
 1   longitude       25409 non-null  float64
 2   price           25409 non-null  int64  
 3   minimum_nights  25409 non-null  int64  
 4   latitude        25409 non-null  float64
dtypes: float64(2), int64(2), object(1)
memory usage: 1.2+ MB</code></pre>
</div>
</div>
<div id="cell-93" class="cell" data-execution_count="212">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>target_neighbourhoods <span class="op">=</span> [</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>    x.strip()</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> x <span class="kw">in</span> <span class="st">"Red Hook, Sunset Park, Cobble Hill, Carroll Gardens, Bay Ridge"</span>.split(<span class="st">","</span>)</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Targeted neighbourhood: "</span>, target_neighbourhoods)</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[df.neighbourhood.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x <span class="kw">in</span> target_neighbourhoods)]</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a><span class="co"># df.info()</span></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a><span class="co"># ans = list(map(lambda x: x in tuple(df.neighbourhood.unique()), target_neighbourhoods))</span></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a><span class="co"># assert sum(ans) == len(target_neighbourhoods)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Targeted neighbourhood:  ['Red Hook', 'Sunset Park', 'Cobble Hill', 'Carroll Gardens', 'Bay Ridge']</code></pre>
</div>
</div>
<div id="cell-94" class="cell" data-execution_count="213">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[df.minimum_nights.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x <span class="op">&lt;=</span> <span class="dv">14</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-95" class="cell" data-execution_count="214">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">5</span>))</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>plot <span class="op">=</span> sns.scatterplot(df, x<span class="op">=</span><span class="st">"latitude"</span>, y<span class="op">=</span><span class="st">"longitude"</span>, hue<span class="op">=</span><span class="st">"neighbourhood"</span>, ax<span class="op">=</span>ax)</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Location of AirBnB host that are candidates for the customer stay"</span>)</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>plt.legend(fontsize<span class="op">=</span><span class="st">"large"</span>)</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Advanced%20Python%20Practicum%202_files/figure-html/cell-68-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-96" class="cell" data-execution_count="215">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># use integer type to save data frame memory</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>df.minimum_nights <span class="op">=</span> df.minimum_nights.astype(np.int8)</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>df.price <span class="op">=</span> df.price.astype(np.int16)</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a><span class="co"># df.info()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-97" class="cell" data-execution_count="216">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get total cost of the stay for 1 to 14 nights</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="bu">map</span>(<span class="kw">lambda</span> n: df.minimum_nights.<span class="bu">apply</span>(<span class="kw">lambda</span> x: n <span class="cf">if</span> n <span class="op">&gt;=</span> x <span class="cf">else</span> <span class="dv">0</span>), <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">15</span>))</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>df[<span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">15</span>))] <span class="op">=</span> pd.DataFrame(<span class="bu">dict</span>(<span class="bu">zip</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">15</span>), m)))</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>df[<span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">15</span>))] <span class="op">=</span> df[<span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">15</span>))].<span class="bu">apply</span>(<span class="kw">lambda</span> c: (c <span class="op">*</span> df.price))</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>dtypes <span class="op">=</span> {n: np.int16 <span class="cf">for</span> n <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">15</span>)}</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>df[<span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">15</span>))] <span class="op">=</span> df[<span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">15</span>))].astype(dtypes)</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>display(df)</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a><span class="co"># df.info()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">neighbourhood</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">price</th>
<th data-quarto-table-cell-role="th">minimum_nights</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">1</th>
<th data-quarto-table-cell-role="th">2</th>
<th data-quarto-table-cell-role="th">3</th>
<th data-quarto-table-cell-role="th">4</th>
<th data-quarto-table-cell-role="th">5</th>
<th data-quarto-table-cell-role="th">6</th>
<th data-quarto-table-cell-role="th">7</th>
<th data-quarto-table-cell-role="th">8</th>
<th data-quarto-table-cell-role="th">9</th>
<th data-quarto-table-cell-role="th">10</th>
<th data-quarto-table-cell-role="th">11</th>
<th data-quarto-table-cell-role="th">12</th>
<th data-quarto-table-cell-role="th">13</th>
<th data-quarto-table-cell-role="th">14</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">101</td>
<td>Carroll Gardens</td>
<td>-74.00154</td>
<td>175</td>
<td>2</td>
<td>40.67967</td>
<td>0</td>
<td>350</td>
<td>525</td>
<td>700</td>
<td>875</td>
<td>1050</td>
<td>1225</td>
<td>1400</td>
<td>1575</td>
<td>1750</td>
<td>1925</td>
<td>2100</td>
<td>2275</td>
<td>2450</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">142</td>
<td>Cobble Hill</td>
<td>-73.99183</td>
<td>140</td>
<td>2</td>
<td>40.68570</td>
<td>0</td>
<td>280</td>
<td>420</td>
<td>560</td>
<td>700</td>
<td>840</td>
<td>980</td>
<td>1120</td>
<td>1260</td>
<td>1400</td>
<td>1540</td>
<td>1680</td>
<td>1820</td>
<td>1960</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">168</td>
<td>Carroll Gardens</td>
<td>-74.00135</td>
<td>165</td>
<td>2</td>
<td>40.67830</td>
<td>0</td>
<td>330</td>
<td>495</td>
<td>660</td>
<td>825</td>
<td>990</td>
<td>1155</td>
<td>1320</td>
<td>1485</td>
<td>1650</td>
<td>1815</td>
<td>1980</td>
<td>2145</td>
<td>2310</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">219</td>
<td>Cobble Hill</td>
<td>-73.99386</td>
<td>159</td>
<td>2</td>
<td>40.68926</td>
<td>0</td>
<td>318</td>
<td>477</td>
<td>636</td>
<td>795</td>
<td>954</td>
<td>1113</td>
<td>1272</td>
<td>1431</td>
<td>1590</td>
<td>1749</td>
<td>1908</td>
<td>2067</td>
<td>2226</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">282</td>
<td>Carroll Gardens</td>
<td>-73.99443</td>
<td>190</td>
<td>3</td>
<td>40.67846</td>
<td>0</td>
<td>0</td>
<td>570</td>
<td>760</td>
<td>950</td>
<td>1140</td>
<td>1330</td>
<td>1520</td>
<td>1710</td>
<td>1900</td>
<td>2090</td>
<td>2280</td>
<td>2470</td>
<td>2660</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48274</td>
<td>Sunset Park</td>
<td>-73.99146</td>
<td>250</td>
<td>3</td>
<td>40.66294</td>
<td>0</td>
<td>0</td>
<td>750</td>
<td>1000</td>
<td>1250</td>
<td>1500</td>
<td>1750</td>
<td>2000</td>
<td>2250</td>
<td>2500</td>
<td>2750</td>
<td>3000</td>
<td>3250</td>
<td>3500</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">48323</td>
<td>Bay Ridge</td>
<td>-74.03145</td>
<td>125</td>
<td>5</td>
<td>40.63270</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>625</td>
<td>750</td>
<td>875</td>
<td>1000</td>
<td>1125</td>
<td>1250</td>
<td>1375</td>
<td>1500</td>
<td>1625</td>
<td>1750</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48351</td>
<td>Bay Ridge</td>
<td>-74.02676</td>
<td>200</td>
<td>1</td>
<td>40.62373</td>
<td>200</td>
<td>400</td>
<td>600</td>
<td>800</td>
<td>1000</td>
<td>1200</td>
<td>1400</td>
<td>1600</td>
<td>1800</td>
<td>2000</td>
<td>2200</td>
<td>2400</td>
<td>2600</td>
<td>2800</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">48657</td>
<td>Sunset Park</td>
<td>-74.00656</td>
<td>120</td>
<td>3</td>
<td>40.64372</td>
<td>0</td>
<td>0</td>
<td>360</td>
<td>480</td>
<td>600</td>
<td>720</td>
<td>840</td>
<td>960</td>
<td>1080</td>
<td>1200</td>
<td>1320</td>
<td>1440</td>
<td>1560</td>
<td>1680</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48816</td>
<td>Sunset Park</td>
<td>-73.98908</td>
<td>100</td>
<td>4</td>
<td>40.66266</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>400</td>
<td>500</td>
<td>600</td>
<td>700</td>
<td>800</td>
<td>900</td>
<td>1000</td>
<td>1100</td>
<td>1200</td>
<td>1300</td>
<td>1400</td>
</tr>
</tbody>
</table>

<p>508 rows × 19 columns</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="total-cost-for-staying-1-to-14-nights" class="level1">
<h1>Total cost for staying 1 to 14 nights</h1>
<p>The boxplot shows there’s most of the total cost are below 25000, where Cobble Hill is the most expensive are and Bay Ridge is the cheapest area.</p>
<div id="cell-99" class="cell" data-execution_count="217">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="bu">len</span>(target_neighbourhoods), sharey<span class="op">=</span><span class="va">True</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">6</span>))</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>plot <span class="op">=</span> df.groupby(<span class="st">"neighbourhood"</span>)[<span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">15</span>))].boxplot(ax<span class="op">=</span>axes)</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_xlabel(<span class="st">"Number of nights"</span>)</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_ylabel(<span class="st">"Total cost for the stay"</span>)</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.title(</span></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a><span class="co">#     "Comparison of total cost for different neighbourhood across differen number of nights"</span></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a><span class="co"># fig.tight_layout()</span></span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">"Total cost for the stay across neighbourhood and nights.jpeg"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/rj/cfm_xnb901710wj1wr0ww8lw0000gq/T/ipykernel_83573/3967442241.py:2: UserWarning: When passing multiple axes, sharex and sharey are ignored. These settings must be specified when creating axes.
  plot = df.groupby("neighbourhood")[list(range(1, 15))].boxplot(ax=axes)</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Advanced%20Python%20Practicum%202_files/figure-html/cell-71-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-100" class="cell" data-execution_count="218">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import pandas as pd</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="co"># import matplotlib.pyplot as plt</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="co"># # Assuming df is your DataFrame</span></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a><span class="co"># # Group by "neighbourhood" and "minimum_nights", calculate mean of "price"</span></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="co"># df1 = df.groupby(["neighbourhood", "minimum_nights"])["price"].mean()</span></span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a><span class="co"># # Unstack the DataFrame to pivot "minimum_nights" into columns</span></span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a><span class="co"># df1_unstacked = df1.unstack(level="neigbourhood")</span></span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a><span class="co"># display(df1_unstacked)</span></span>
<span id="cb95-12"><a href="#cb95-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-13"><a href="#cb95-13" aria-hidden="true" tabindex="-1"></a><span class="co"># # Plot</span></span>
<span id="cb95-14"><a href="#cb95-14" aria-hidden="true" tabindex="-1"></a><span class="co"># df1_unstacked.plot(marker="o", linestyle="-")</span></span>
<span id="cb95-15"><a href="#cb95-15" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.xlabel("Minimum Nights")</span></span>
<span id="cb95-16"><a href="#cb95-16" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.ylabel("Mean Price")</span></span>
<span id="cb95-17"><a href="#cb95-17" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.title("Mean Price for each Neighbourhood across Minimum Nights")</span></span>
<span id="cb95-18"><a href="#cb95-18" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.legend(title="Neighbourhood", bbox_to_anchor=(1.05, 1), loc="upper left")</span></span>
<span id="cb95-19"><a href="#cb95-19" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.tight_layout()</span></span>
<span id="cb95-20"><a href="#cb95-20" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.show()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-101" class="cell" data-execution_count="219">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>grouped <span class="op">=</span> (</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>    df.groupby([<span class="st">"neighbourhood"</span>, <span class="st">"minimum_nights"</span>])[<span class="st">"price"</span>]</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>    .mean()</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>    .set_index([<span class="st">"neighbourhood"</span>, <span class="st">"minimum_nights"</span>])</span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>dummy <span class="op">=</span> {}</span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> n <span class="kw">in</span> target_neighbourhoods:</span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">15</span>):</span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a>        dummy[(n, i)] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-13"><a href="#cb96-13" aria-hidden="true" tabindex="-1"></a>index <span class="op">=</span> pd.MultiIndex.from_tuples(</span>
<span id="cb96-14"><a href="#cb96-14" aria-hidden="true" tabindex="-1"></a>    dummy.keys(), names<span class="op">=</span>[<span class="st">"neighbourhood"</span>, <span class="st">"minimum_nights"</span>]</span>
<span id="cb96-15"><a href="#cb96-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb96-16"><a href="#cb96-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-17"><a href="#cb96-17" aria-hidden="true" tabindex="-1"></a>df_dummy <span class="op">=</span> (</span>
<span id="cb96-18"><a href="#cb96-18" aria-hidden="true" tabindex="-1"></a>    pd.DataFrame(dummy.values(), index<span class="op">=</span>index, columns<span class="op">=</span>[<span class="st">"price"</span>])</span>
<span id="cb96-19"><a href="#cb96-19" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb96-20"><a href="#cb96-20" aria-hidden="true" tabindex="-1"></a>    .set_index([<span class="st">"neighbourhood"</span>, <span class="st">"minimum_nights"</span>])</span>
<span id="cb96-21"><a href="#cb96-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb96-22"><a href="#cb96-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-23"><a href="#cb96-23" aria-hidden="true" tabindex="-1"></a>merge <span class="op">=</span> grouped.combine_first(df_dummy)</span>
<span id="cb96-24"><a href="#cb96-24" aria-hidden="true" tabindex="-1"></a>merge.reset_index(inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb96-25"><a href="#cb96-25" aria-hidden="true" tabindex="-1"></a><span class="co"># merge.price = merge.price.apply(lambda x: f"{x:0.2f}")</span></span>
<span id="cb96-26"><a href="#cb96-26" aria-hidden="true" tabindex="-1"></a><span class="co"># display(merge.head(20))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-102" class="cell" data-execution_count="220">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming df is your DataFrame</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>,</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>    math.ceil(<span class="bu">len</span>(target_neighbourhoods) <span class="op">/</span> <span class="dv">3</span>),</span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>    sharex<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">15</span>),</span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by "neighbourhood" and "minimum_nights", calculate mean of "price"</span></span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a><span class="co"># display(grouped)</span></span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, (n, ax) <span class="kw">in</span> <span class="bu">enumerate</span>(<span class="bu">zip</span>(target_neighbourhoods, axes.flatten()[:<span class="op">-</span><span class="dv">1</span>])):</span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># print(n)</span></span>
<span id="cb97-15"><a href="#cb97-15" aria-hidden="true" tabindex="-1"></a>    merge[merge.neighbourhood <span class="op">==</span> n].plot(</span>
<span id="cb97-16"><a href="#cb97-16" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">"minimum_nights"</span>, y<span class="op">=</span><span class="st">"price"</span>, kind<span class="op">=</span><span class="st">"bar"</span>, ax<span class="op">=</span>ax, legend<span class="op">=</span><span class="va">False</span></span>
<span id="cb97-17"><a href="#cb97-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb97-18"><a href="#cb97-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-19"><a href="#cb97-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add annotations</span></span>
<span id="cb97-20"><a href="#cb97-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> p <span class="kw">in</span> ax.patches:</span>
<span id="cb97-21"><a href="#cb97-21" aria-hidden="true" tabindex="-1"></a>        ax.annotate(</span>
<span id="cb97-22"><a href="#cb97-22" aria-hidden="true" tabindex="-1"></a>            <span class="ss">f"</span><span class="sc">{</span><span class="bu">int</span>(p.get_height())<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb97-23"><a href="#cb97-23" aria-hidden="true" tabindex="-1"></a>            (p.get_x() <span class="op">+</span> p.get_width() <span class="op">/</span> <span class="fl">2.0</span>, p.get_height()),</span>
<span id="cb97-24"><a href="#cb97-24" aria-hidden="true" tabindex="-1"></a>            ha<span class="op">=</span><span class="st">"center"</span>,</span>
<span id="cb97-25"><a href="#cb97-25" aria-hidden="true" tabindex="-1"></a>            va<span class="op">=</span><span class="st">"center"</span>,</span>
<span id="cb97-26"><a href="#cb97-26" aria-hidden="true" tabindex="-1"></a>            xytext<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">5</span>),</span>
<span id="cb97-27"><a href="#cb97-27" aria-hidden="true" tabindex="-1"></a>            textcoords<span class="op">=</span><span class="st">"offset points"</span>,</span>
<span id="cb97-28"><a href="#cb97-28" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb97-29"><a href="#cb97-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-30"><a href="#cb97-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ax.annotate(str(value), xy=(i, value), xytext=(5, 5), textcoords='offset points', ha='center')</span></span>
<span id="cb97-31"><a href="#cb97-31" aria-hidden="true" tabindex="-1"></a>    ax.set_title(n)</span>
<span id="cb97-32"><a href="#cb97-32" aria-hidden="true" tabindex="-1"></a>    ax.xaxis.label.set_size(<span class="dv">20</span>)</span>
<span id="cb97-33"><a href="#cb97-33" aria-hidden="true" tabindex="-1"></a>    ax.yaxis.label.set_size(<span class="dv">20</span>)</span>
<span id="cb97-34"><a href="#cb97-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb97-35"><a href="#cb97-35" aria-hidden="true" tabindex="-1"></a>        ax.set_ylabel(<span class="st">"Average price per night"</span>)</span>
<span id="cb97-36"><a href="#cb97-36" aria-hidden="true" tabindex="-1"></a>        <span class="co"># ax.set_xlabel("Number of nights")</span></span>
<span id="cb97-37"><a href="#cb97-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-38"><a href="#cb97-38" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Average cost for AirBnB for a 2 weeks stay at west Broklynn"</span>, fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb97-39"><a href="#cb97-39" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb97-40"><a href="#cb97-40" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> os.path.exists(<span class="st">"airbnb_plot02.png"</span>):</span>
<span id="cb97-41"><a href="#cb97-41" aria-hidden="true" tabindex="-1"></a>    os.remove(<span class="st">"airbnb_plot02.png"</span>)</span>
<span id="cb97-42"><a href="#cb97-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> (os.path.exists(<span class="st">"airbnb_plot02.png"</span>))</span>
<span id="cb97-43"><a href="#cb97-43" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">"airbnb_plot02.png"</span>, dpi<span class="op">=</span><span class="dv">200</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Advanced%20Python%20Practicum%202_files/figure-html/cell-74-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>